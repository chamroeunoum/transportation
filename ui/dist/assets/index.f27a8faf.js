import{r as i,o as g,c as X,w as r,a as o,T as le,b as se,d as n,e as H,f as ze,g as v,h as Z,N as F,i as R,j as Le,I as Ae,S as qe,k as Ie,A as He,U as Fe,R as Oe,l as Be,m as Ne,n as I,p as je,q as $,F as O,s as B,t as V,u as re,v as j,x as K,y as De,z as Ee,B as Ve,C as Ke,D as Ge,E as We,G as ye,H as Q,J as ke,K as ee,L as te,Q as ae,M as ie,O as de,P as C,V as Je,W as Qe,X as Ye,Y as Xe,Z as Ze,_ as Ce,$ as Re,a0 as ce,a1 as G,a2 as ue,a3 as me,a4 as fe,a5 as pe,a6 as _e,a7 as he,a8 as ge,a9 as ve,aa as et,ab as tt,ac as at,ad as ot,ae as nt,af as lt,ag as st,ah as rt}from"./vendor.333bcb56.js";const it=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const f of s)if(f.type==="childList")for(const u of f.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function l(s){const f={};return s.integrity&&(f.integrity=s.integrity),s.referrerpolicy&&(f.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?f.credentials="include":s.crossorigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(s){if(s.ep)return;s.ep=!0;const f=l(s);fetch(s.href,f)}};it();const dt=n("div",{id:"receiptPrintArea"},null,-1);function ct(e){return(t,l)=>{const a=i("router-view"),s=i("n-message-provider"),f=i("n-dialog-provider");return g(),X(f,null,{default:r(()=>[o(s,null,{default:r(()=>[o(a,null,{default:r(({Component:u,route:p})=>[o(le,{name:p.meta.transition||"fade"},{default:r(()=>[(g(),X(se(u)))]),_:2},1032,["name"])]),_:1}),dt]),_:1})]),_:1})}}const ut={mounted(){}},mt=Object.assign(ut,{setup:ct});const ft=()=>{try{localStorage.removeItem("token"),localStorage.removeItem("user")}catch(e){console.log(e)}},be=()=>{try{return localStorage.getItem("token")!==null}catch(e){console.log(e)}},Me=()=>{try{return JSON.parse(localStorage.getItem("token"))}catch(e){console.log(e)}},N=()=>{try{return Me().token_type+" "+Me().access_token}catch(e){console.log(e)}},pt=e=>{localStorage.setItem("token",JSON.stringify(e))},_t=e=>{localStorage.setItem("user",JSON.stringify(e))};var L={async list(e,t){return await H({method:"put",url:e,data:t,headers:{Authorization:N()}})},async compact(e){return await H({method:"get",url:e,data:params,headers:{Authorization:N()}})},async read(e){return await H({method:"get",url:e,data:params,headers:{Authorization:N()}})},async create(e,t){return await H({method:"post",url:e,data:t,headers:{Authorization:N()}})},async update(e,t){return await H({method:"post",url:e,data:t,headers:{Authorization:N()}})},async delete(e,t){return await H({method:"delete",url:e,data:t,headers:{Authorization:N()}})},async activate(e){return await H({method:"put",url,data:params,headers:{Authorization:N()}})}};const ht=()=>({records:[],record:null}),gt={getRecords(e,t,l){return e.records},getRecord(e,t,l){return e.record}},vt={async list({state:e,commit:t,rootState:l},a){return await L.list(l.apiServer+"/package",a)},async read({state:e,commit:t,rootState:l},a){return await L.read(l.apiServer+"/package/"+a.id)},async create({state:e,commit:t,rootState:l},a){return await L.create(l.apiServer+"/package/create",a)},async update({state:e,commit:t,rootState:l},a){return await L.update(l.apiServer+"/package/update",a)},async delete({state:e,commit:t,rootState:l},a){return await L.delete(l.apiServer+"/package/"+a.id)}},bt={setRecords(e,t){e.records=t},setRecord(e,t){e.record=t}};var wt={namespaced:!0,state:ht,getters:gt,actions:vt,mutations:bt},Pe={async login(e,t){return await H({method:"post",url:e,data:t})},async logout(e){return await H({method:"post",url:e,headers:{Authorization:N()}})},async readProfile(e){return await H({method:"get",url:e,data:params,headers:{Authorization:N()}})},async updateProfile(e){return await H({method:"post",url:e,data:params,headers:{Authorization:N()}})},async uploadProfilePicture(e,t){return await H({method:"post",url:e,data:t,headers:{Authorization:N()}})},async changePassword(e,t){return await H({method:"post",url:e,data:t,headers:{Authorization:N()}})}};const xt=()=>({user:null,token:{access_token:null,expires_at:new Date,token_type:"Bearer"}}),yt={getAuthorization(e,t,l){return e.token.token_type+" "+e.token.access_token},checkAuth(e,t,l){return e.token.access_token!==""&&new Date(e.token.expires_at)>=new Date}},kt={async login({state:e,commit:t,rootState:l},a){return await Pe.login(l.apiServer+"/login",a)},async logout({state:e,commit:t,rootState:l},a){return await Pe.logout(l.apiServer+"/logout",a)}},Ct={setAuthentication(e,{user:t,token:l}){e.user=t,e.token=l,pt(l),_t(t)}};var Rt={namespaced:!0,state:xt,getters:yt,actions:kt,mutations:Ct};const Mt=()=>({model:{name:"user",title:"\u17A2\u17D2\u1793\u1780\u1794\u17D2\u179A\u17BE\u1794\u17D2\u179A\u17B6\u179F\u17CB"},records:[],record:null}),Pt={getRecords(e,t,l){return e.records},getRecord(e,t,l){return e.record}},St={async list({state:e,commit:t,rootState:l},a){return await L.list(l.apiServer+"/"+e.model.name,a)},async read({state:e,commit:t,rootState:l},a){return await L.read(l.apiServer+"/"+e.model.name+"/"+a.id)},async create({state:e,commit:t,rootState:l},a){return await L.create(l.apiServer+"/"+e.model.name+"/create",a)},async update({state:e,commit:t,rootState:l},a){return await L.update(l.apiServer+"/"+e.model.name+"/update",a)},async passwordChange({state:e,commit:t,rootState:l},a){return await L.update(l.apiServer+"/"+e.model.name+"/password/change",a)},async delete({state:e,commit:t,rootState:l},a){return await L.delete(l.apiServer+"/"+e.model.name+"/"+a.id)}},$t={setRecords(e,t){e.records=t},setRecord(e,t){e.record=t}};var Ut={namespaced:!0,state:Mt,getters:Pt,actions:St,mutations:$t};const Tt=()=>({model:{name:"client",title:"\u17A2\u178F\u17B7\u1790\u17B7\u1787\u1793"},records:[],record:null}),zt={getRecords(e,t,l){return e.records},getRecord(e,t,l){return e.record}},Lt={async list({state:e,commit:t,rootState:l},a){return await L.list(l.apiServer+"/"+e.model.name,a)},async read({state:e,commit:t,rootState:l},a){return await L.read(l.apiServer+"/"+e.model.name+"/"+a.id)},async create({state:e,commit:t,rootState:l},a){return await L.create(l.apiServer+"/"+e.model.name+"/create",a)},async update({state:e,commit:t,rootState:l},a){return await L.update(l.apiServer+"/"+e.model.name+"/update",a)},async delete({state:e,commit:t,rootState:l},a){return await L.delete(l.apiServer+"/"+e.model.name+"/"+a.id)}},At={setRecords(e,t){e.records=t},setRecord(e,t){e.record=t}};var qt={namespaced:!0,state:Tt,getters:zt,actions:Lt,mutations:At};const It=()=>({model:{name:"staff",title:"\u1794\u17BB\u1782\u17D2\u1782\u179B\u17B7\u1780"},records:[],record:null}),Ht={getRecords(e,t,l){return e.records},getRecord(e,t,l){return e.record}},Ft={async list({state:e,commit:t,rootState:l},a){return await L.list(l.apiServer+"/"+e.model.name,a)},async read({state:e,commit:t,rootState:l},a){return await L.read(l.apiServer+"/"+e.model.name+"/"+a.id)},async create({state:e,commit:t,rootState:l},a){return await L.create(l.apiServer+"/"+e.model.name+"/create",a)},async update({state:e,commit:t,rootState:l},a){return await L.update(l.apiServer+"/"+e.model.name+"/update",a)},async delete({state:e,commit:t,rootState:l},a){return await L.delete(l.apiServer+"/"+e.model.name+"/"+a.id)}},Ot={setRecords(e,t){e.records=t},setRecord(e,t){e.record=t}};var Bt={namespaced:!0,state:It,getters:Ht,actions:Ft,mutations:Ot};const Nt=!1;var jt=ze({state:{apiServer:"http://sctservice.kabit.asia/api"},modules:{product:wt,auth:Rt,user:Ut,client:qt,staff:Bt},strict:Nt,plugins:[]}),we="/assets/logo.4dbb9523.png",T=(e,t)=>{const l=e.__vccOpts||e;for(const[a,s]of t)l[a]=s;return l};const Dt={},Et={class:"w-full h-8 my-2 leading-8 text-gray-400"},Vt=n("div",{class:"text-center copy-right"},"\xA9 \u179A\u1780\u17D2\u179F\u17B6\u179A\u179F\u17B7\u1791\u17D2\u1792\u17B7\u1782\u17D2\u179A\u1794\u17CB\u1799\u17C9\u17B6\u1784 \u17E2\u17E0\u17E2\u17E1",-1),Kt=[Vt];function Gt(e,t){return g(),v("div",Et,Kt)}var Se=T(Dt,[["render",Gt]]);const Wt={class:"flex justify-center"},Jt={class:"w-1/4 p-8 mt-24 border rounded"},Qt=n("div",{class:"w-32 mx-auto my-4"},[n("img",{src:we,alt:"SCT Logo",class:"w-full"})],-1),Yt=n("div",{class:"w-full mx-auto my-4 text-lg"},[R(" \u1780\u17D2\u179A\u17BB\u1798\u17A0\u17CA\u17BB\u1793 \u178A\u17B9\u1780\u1787\u1789\u17D2\u1787\u17BC\u1793 \u179F\u17BC\u1793\u17B8 \u1780\u1798\u17D2\u1796\u17BB\u1787\u17B6"),n("br"),R(" Sony Cambodia Transportation ")],-1),Xt=n("div",{class:"w-full mx-auto my-4 text-left text-md"},"\u1785\u17BC\u179B\u1794\u17D2\u179A\u1796\u17D0\u1793\u17D2\u1792",-1),Zt={class:"w-full mt-4"},ea=R("\u1785\u17BC\u179B"),ta={class:"mt-16"};function aa(e){return(t,l)=>{const a=i("van-field"),s=i("van-cell-group"),f=i("van-button");return g(),v("div",Wt,[n("div",Jt,[Qt,Yt,Xt,o(s,{inset:""},{default:r(()=>[o(a,{modelValue:t.auth.email,"onUpdate:modelValue":l[0]||(l[0]=u=>t.auth.email=u),clearable:"",label:"\u17A2\u17CA\u17B8\u1798\u17C2\u179B",placeholder:"\u17A2\u17CA\u17B8\u1798\u17C2\u179B",onKeyup:Z(t.login,["enter"])},null,8,["modelValue","onKeyup"]),o(a,{modelValue:t.auth.password,"onUpdate:modelValue":l[1]||(l[1]=u=>t.auth.password=u),type:"password",clearable:"",label:"\u1796\u17B6\u1780\u17D2\u1799\u179F\u1798\u17D2\u1784\u17B6\u178F\u17CB",placeholder:"\u1796\u17B6\u1780\u17D2\u1799\u179F\u1798\u17D2\u1784\u17B6\u178F\u17CB",onKeyup:Z(t.login,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),n("div",Zt,[o(f,{type:"primary",size:"small",onClick:t.login,loading:t.btnLoginLoading,"loading-text":"Signing in...",class:"px-8"},{default:r(()=>[ea]),_:1},8,["onClick","loading"])]),n("div",ta,[o(Se)])])])}}const oa={name:"LoginTemplate",setup(){return{}},data(){return{auth:{email:"",password:""},btnLoginLoading:!1}},methods:{login(){if(this.auth.email==""||this.auth.email==null)return F({type:"warning",message:"\u179F\u17BC\u1798\u1794\u1789\u17D2\u1785\u17BC\u179B\u17A2\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793\u179F\u17C6\u1794\u17BB\u178F\u17D2\u179A\u179A\u1794\u179F\u17CB\u17A2\u17D2\u1793\u1780\u17D4"}),!1;if(this.auth.password==""||this.auth.password==null)return F({type:"warning",message:"\u179F\u17BC\u1798\u1794\u1789\u17D2\u1785\u17BC\u179B\u1796\u17B6\u1780\u17D2\u1799\u179F\u1798\u17D2\u1784\u17B6\u178F\u17CB\u179A\u1794\u179F\u17CB\u17A2\u17D2\u1793\u1780\u17D4"}),!1;this.btnLoginLoading=!0,this.$store.dispatch("auth/login",{email:this.auth.email,password:this.auth.password}).then(e=>{switch(e.status){case 200:this.$store.commit("auth/setAuthentication",{user:e.data.user,token:e.data.token}),F({type:"success",message:"\u179F\u17BD\u179F\u17D2\u178A\u17B8, "+e.data.user.lastname+" "+e.data.user.firstname}),this.$router.push("/receive");break;default:F({type:"warning",message:e.data.message});break}this.btnLoginLoading=!1}).catch(e=>{if(console.log(e),this.btnLoginLoading=!1,e.response!==null){let l=e.response.status+": "+e.response.statusText+". ";if(e.response.data!==null)for(var t in e.response.data.errors)l+=e.response.data.errors[t];F({type:"danger",message:l})}else console.log(e.response)})}}},na=Object.assign(oa,{setup:aa}),la={name:"Topmenu"},sa={class:"font-pvh fixed bg-gray-100 top-0 left-0 right-0 flex h-16 p-2 mb-4 border-b border-gray-300"},ra={class:"flex-none w-12 h-12"},ia=n("img",{src:we,class:"w-full rounded-full",alt:"SCT Logo",title:"SCT Logo"},null,-1),da=Le('<div class="flex-grow h-12 text-xl leading-10"> \u1780\u17B6\u179A\u17B7\u1799\u17B6\u179B\u17D0\u1799\u1780\u178E\u17D2\u178A\u17B6\u179B </div><div class="flex-none w-12 h-12 ..."><div class="w-12 h-12 rounded-full"><svg xmlns="http://www.w3.org/2000/svg" class="w-12 h-12" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div></div>',2);function ca(e,t,l,a,s,f){const u=i("router-link");return g(),v("div",sa,[n("div",ra,[o(u,{to:"/dashboard"},{default:r(()=>[ia]),_:1})]),da])}var ua=T(la,[["render",ca]]);const ma={components:{IosSearch:Ae,SupervisedUserCircleOutlined:qe,SupervisedUserCircleSharp:Ie,Apps:He,UserMultiple:Fe,Receipt20Regular:Oe,Receipt2:Be,SpeedometerOutline:Ne},name:"dock",props:["active"],setup(){let e=I(null),t=je(()=>e.value!=""||e.value!=null?l:e.value.trim()!=""?l.value.filter(_=>_.name.indexOf(e.value)!=-1):l),l=I([{url:"/dashboard",icon:"SpeedometerOutline",name:"\u1795\u17D2\u1791\u17B6\u17C6\u1784\u1796\u17D0\u178F\u17CC\u1798\u17B6\u1793"},{url:"/user",icon:"SupervisedUserCircleOutlined",name:"\u1782\u178E\u1793\u17B8"},{url:"/client",icon:"UserMultiple",name:"\u17A2\u178F\u17B7\u1790\u17B7\u1787\u1793"},{url:"/receive",icon:"Receipt20Regular",name:"\u1794\u1789\u17D2\u1789\u17BE"},{url:"/staff",icon:"SupervisedUserCircleSharp",name:"\u1794\u17BB\u1782\u17D2\u1782\u179B\u17B7\u1780"},{url:"/incomeoutcome",icon:"Receipt2",name:"\u1785\u17C6\u178E\u17BC\u179B\u1785\u17C6\u178E\u17B6\u1799"}]),a=I(!1),s=$({});function f(){e.value!=""&&e.value!=null&&(t=e.value.trim()!=""?l.value.filter(_=>_.name.indexOf(e.value)!=-1):l)}function u(){a=!a}function p(){console.log("confirm before logout")}return{search:e,matchedApps:t,apps:l,toggleApps:a,user:s,filterApps:f,toggleAppFunc:u,logoutConfirmation:p}},mounted(){}},fa={class:"flex flex-wrap content-center"},pa={key:0,class:"fixed top-0 bottom-0 left-0 right-0 z-40 flex flex-wrap content-start w-full px-4 py-24 bg-gray-800 sm:px-4 md:px-4 lg:p-24 xl:p-24 bg-opacity-95"},_a={class:"absolute top-0 left-0 right-0 flex flex-wrap content-center w-2/5 py-4 m-auto md:w-2/5 xl:w-1/5 lg:w-1/5"},ha={class:"flex flex-wrap content-center apps"},ga=["onClick"],va=["innerHTML"],ba={class:"fixed -bottom-14 h-12 left-0 right-0 z-50 flex flex-wrap justify-center w-full py-4"},wa=n("div",{class:"fixed top-0 right-0 flex flex-wrap content-center p-2"},null,-1),xa={key:0,class:"fixed top-0 right-0 flex flex-wrap content-center p-2"};function ya(e,t,l,a,s,f){const u=i("IosSearch"),p=i("n-icon"),_=i("n-input"),h=i("Apps");return g(),v("div",fa,[o(le,{name:"fade",mode:"out-in"},{default:r(()=>[a.toggleApps?(g(),v("div",pa,[n("div",_a,[o(_,{suffix:"ios-search",placeholder:"\u179F\u17D2\u179C\u17C2\u1784\u179A\u1780 ...",clearable:"",value:a.search,"onUpdate:value":t[0]||(t[0]=m=>a.search=m),onKeyup:t[1]||(t[1]=m=>a.filterApps())},{prefix:r(()=>[o(p,null,{default:r(()=>[o(u)]),_:1})]),_:1},8,["value"])]),n("div",ha,[(g(!0),v(O,null,B(a.matchedApps.value,(m,k)=>(g(),v("div",{key:k,class:"w-32 h-32 text-center p4 md-auto"},[n("div",{onClick:P=>{a.toggleApps=!1,e.$router.push(m.url)},class:"w-full dashboard-widget-link cursor-pointer"},[o(p,{size:"64",class:"text-gray-100"},{default:r(()=>[(g(),X(se(m.icon)))]),_:2},1024),n("div",{class:"font-pvh p-2 m-auto text-sm text-center text-gray-100",innerHTML:m.name},null,8,va)],8,ga)]))),128))])])):V("",!0)]),_:1}),n("div",ba,[n("div",{onClick:t[2]||(t[2]=m=>a.toggleApps=!a.toggleApps),class:"w-12 h-12 p-2 -mt-20 mx-2 text-center bg-white border border-black rounded-full shadow cursor-pointer"},[o(p,{class:"text-gray-700",size:"30"},{default:r(()=>[o(h)]),_:1})])]),wa,a.toggleApps?(g(),v("div",xa)):V("",!0)])}var ka=T(ma,[["render",ya]]);const Ca={setup(){const e=re(),t=j(),l=K(),a=De();async function s(){const f=e.warning({title:"\u1785\u17B6\u1780\u1785\u17C1\u1789",content:"\u178F\u17BE\u17A2\u17D2\u1793\u1780\u1785\u1784\u17CB\u1785\u17B6\u1780\u1785\u17C1\u1789\u1798\u17C2\u1793\u1791\u17C1?",positiveText:"\u1794\u17B6\u1791 / \u1785\u17B6\u179F",negativeText:"\u1791\u17C1",onPositiveClick:()=>{be()?(f.loading=!0,l.dispatch("auth/logout").then(u=>{ft(),t.success(u.data.message),f.loading=!1,a.push("/login")}).catch(u=>{console.log(u)})):a.push("/login")}})}return{logout:s}},components:{Footer:Se},name:"sidebar-left",data(){return{logoutConfirmationDialog:!1,sidebarToggle:!0,menus:[{label:"\u17A5\u179C\u17C9\u17B6\u1793\u17CB",to:"/package"},{label:"\u17A2\u17D2\u1793\u1780\u1794\u17D2\u179A\u17BE\u1794\u17D2\u179A\u17B6\u179F\u17CB",to:"/user"},{label:"\u17A2\u178F\u17B7\u1790\u17B7\u1787\u1793",to:"/customer"},{label:"Chat",to:"/label"},{icon:"chat-o",label:"Setting",to:"/label"}]}},methods:{toggleSidebarFunc(e){this.sidebarToggle=e}}},Ra={class:"fixed bottom-0 left-0 border-r top-16 w-60 bg-gray-100 font-btb text-lg"},Ma={key:0,class:"absolute w-full sidebar"},Pa={class:"flex w-full h-12 p-1 bg-gray-100 border-b"},Sa=n("div",{class:"flex-grow-0 w-10 h-10 p-2 text-blue-500 icon"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1),$a=n("div",{class:"text-md"},"\u17A2\u17D2\u1793\u1780\u1794\u17D2\u179A\u17BE\u1794\u17D2\u179A\u17B6\u179F\u17CB",-1),Ua={class:"flex w-full h-12 p-1 bg-gray-100 border-b"},Ta=n("div",{class:"flex-grow-0 w-10 h-10 p-2 text-blue-500 icon"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"})])],-1),za=n("div",{class:"text-md"},"\u17A2\u178F\u17B7\u1790\u17B7\u1787\u1793",-1),La={class:"flex w-full h-12 p-1 bg-gray-100 border-b"},Aa=n("div",{class:"flex-grow-0 w-10 h-10 p-2 text-blue-500 icon"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})])],-1),qa=n("div",{class:"text-md"},"\u17A5\u179C\u17C9\u17B6\u1793\u17CB",-1),Ia={class:"flex w-full h-12 p-1 bg-gray-100 border-b"},Ha=n("div",{class:"flex-grow-0 w-10 h-10 p-2 text-blue-500 icon"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"})])],-1),Fa=n("div",{class:"text-md"},"\u1794\u17BB\u1782\u17D2\u1782\u179B\u17B7\u1780",-1),Oa={class:"flex w-full h-12 p-1 bg-gray-100 border-b"},Ba=n("div",{class:"flex-grow-0 w-10 h-10 p-2 text-blue-500 icon"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{d:"M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z"}),n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0"})])],-1),Na=n("div",{class:"text-md"},"\u17A1\u17B6\u1793",-1),ja={class:"flex w-full h-12 p-1 bg-gray-100 border-b"},Da=n("div",{class:"flex-grow-0 w-10 h-10 p-2 text-blue-500 icon"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})])],-1),Ea={class:"absolute bottom-0 w-full justify-center"};function Va(e,t,l,a,s,f){const u=i("router-link"),p=i("Footer");return g(),v("div",Ra,[s.sidebarToggle?(g(),v("div",Ma,[n("div",Pa,[Sa,o(u,{to:"/user",class:"flex-grow leading-10 text-left label"},{default:r(()=>[$a]),_:1})]),n("div",Ua,[Ta,o(u,{to:"/client",class:"flex-grow leading-10 text-left label"},{default:r(()=>[za]),_:1})]),n("div",La,[Aa,o(u,{to:"/receive",class:"flex-grow leading-10 text-left label"},{default:r(()=>[qa]),_:1})]),n("div",Ia,[Ha,o(u,{to:"/staff",class:"flex-grow leading-10 text-left label"},{default:r(()=>[Fa]),_:1})]),n("div",Oa,[Ba,o(u,{to:"/user",class:"flex-grow leading-10 text-left label"},{default:r(()=>[Na]),_:1})]),n("div",ja,[Da,n("a",{onClick:t[0]||(t[0]=(..._)=>a.logout&&a.logout(..._)),class:"flex-grow leading-10 text-left label"},"\u1785\u17B6\u1780\u1785\u17C1\u1789")])])):V("",!0),n("div",Ea,[o(p)])])}var Ka=T(Ca,[["render",Va]]);const Ga={setup(){return{}},name:"DashboardPage",data(){return{}},computed:{},mounted(){},methods:{},components:{Topmenu:ua,SidebarLeft:Ka,Dock:ka}},Wa={class:"relative w-full min-h-screen bg-gray-50 bg-center bg-cover bg-background",oncontextmenu:"return false; "},Ja={class:"absolute p-4 top-16 right-0 bottom-0 left-0"};function Qa(e,t,l,a,s,f){const u=i("router-view"),p=i("Dock"),_=i("Topmenu");return g(),v("div",Wa,[n("div",Ja,[o(u)]),o(p),o(_)])}var Ya=T(Ga,[["render",Qa]]);const Xa=[{name:"\u1798\u1780\u179A\u17B6",pl:1e3,avg:500,inc:300},{name:"\u1780\u17BB\u1798\u17D2\u1797\u17C8",pl:2e3,avg:900,inc:400},{name:"\u1798\u17B8\u1793\u17B6",pl:400,avg:400,inc:500},{name:"\u1798\u17C1\u179F\u17B6",pl:3100,avg:1300,inc:700},{name:"\u17A7\u179F\u1797\u17B6",pl:200,avg:100,inc:200},{name:"\u1798\u17B7\u1790\u17BB\u1793\u17B6",pl:600,avg:400,inc:300},{name:"\u1780\u1780\u17D2\u1780\u178A\u17B6",pl:500,avg:90,inc:100},{name:"\u179F\u17B8\u17A0\u17B6",pl:500,avg:90,inc:100},{name:"\u1780\u1789\u17D2\u1789\u17B6",pl:500,avg:90,inc:100},{name:"\u178F\u17BB\u179B\u17B6",pl:500,avg:90,inc:100},{name:"\u179C\u17B7\u1785\u17D2\u1786\u17B7\u1780\u17B6",pl:500,avg:90,inc:100},{name:"\u1792\u17D2\u1793\u17BC",pl:500,avg:90,inc:100}],Za={name:"Dashboard",components:{Chart:Ee,Grid:Ve,Line:Ke,Area:Ge,Marker:We},name:"dashboard",setup(){const e=I(Xa),t=I("horizontal"),l=I({left:0,top:20,right:20,bottom:0}),a=I({primary:{type:"band"},secondary:{domain:["dataMin","dataMax + 100"],type:"linear",ticks:8}});return{data:e,direction:t,margin:l,axis:a}}},eo={class:"flex flex-wrap justify-center p-4bg-white"},to={class:"w-1/4 bg-gray-200 p-4 rounded border border-gray-200 hover:border-gray-400 duration-300"},ao=n("defs",null,[n("linearGradient",{id:"grad",gradientTransform:"rotate(90)"},[n("stop",{offset:"0%","stop-color":"#be90ff","stop-opacity":"1"}),n("stop",{offset:"100%","stop-color":"white","stop-opacity":"0.4"})])],-1);function oo(e,t,l,a,s,f){const u=i("Grid"),p=i("Area"),_=i("Line"),h=i("Marker"),m=i("Tooltip"),k=i("Chart");return g(),v("div",eo,[n("div",to,[o(k,{size:{width:500,height:420},data:a.data,margin:a.margin,direction:a.direction,axis:a.axis},{layers:r(()=>[o(u,{strokeDasharray:"2,2"}),o(p,{dataKeys:["name","pl"],type:"monotone",areaStyle:{fill:"url(#grad)"}},null,8,["areaStyle"]),o(_,{dataKeys:["name","pl"],type:"monotone",lineStyle:{stroke:"#9f7aea"}}),o(h,{value:1e3,label:"Mean.",color:"green",strokeWidth:"2",strokeDasharray:"6 6"}),ao]),widgets:r(()=>[o(m,{borderColor:"#48CAE4",config:{pl:{color:"#9f7aea"},avg:{hide:!0},inc:{hide:!0}}})]),_:1},8,["data","margin","direction","axis"])])])}var no=T(Za,[["render",oo]]);const lo={},so={class:"w-full"};function ro(e,t){const l=i("router-view");return g(),v("div",so,[o(l,null,{default:r(({Component:a})=>[o(le,{name:e.$route.meta.transition||"fade"},{default:r(()=>[(g(),X(se(a)))]),_:2},1032,["name"])]),_:1})])}var io=T(lo,[["render",ro]]);const co={setup(){const e=I(null),t=j();return{formRef:e,model:I({name:"package",title:"\u1794\u1793\u17D2\u1790\u17C2\u1798\u1796\u17D0\u178F\u17CC\u1798\u17B6\u1793\u1790\u17D2\u1798\u17B8"}),client:I({records:[{label:"\u1785\u17B6\u1793\u17CB \u1797\u17C4\u1782",value:1},{label:"\u1785\u17B6\u1793\u17CB \u1787\u17B6\u1799\u17B6",value:4},{label:"\u1788\u17B6\u179C \u178A\u17B6\u179C",value:2},{label:"\u1797\u17B8 \u1798\u17B6\u1783",value:3}],record:"",filters:[]}),record:I({id:0,client_id:0,code:"",from:"\u1794\u17B6\u1784\u1780\u1780",to:"",sender_phone:"",receiver_phone:"",weight:"",dimension:"60x40x20",price:"",note:""}),rules:{to:{required:!0,message:"\u179F\u17BC\u1798\u1794\u1789\u17D2\u1785\u17BC\u179B\u1780\u1793\u17D2\u179B\u17C2\u1784\u1794\u1789\u17D2\u1787\u17BC\u1793\u17A5\u179C\u17C9\u17B6\u1793\u17CB\u1791\u17C5",trigger:"blur"},sender_phone:{required:!0,message:"\u179F\u17BC\u1798\u1794\u1789\u17D2\u1785\u17BC\u179B\u179B\u17C1\u1781\u1791\u17BC\u179A\u179F\u17D0\u1796\u17D2\u1791\u17A2\u17D2\u1793\u1780\u1795\u17D2\u1789\u17BE",trigger:["blur"]},receiver_phone:{required:!0,message:"\u179F\u17BC\u1798\u1794\u1789\u17D2\u1785\u17BC\u179B\u179B\u17C1\u1781\u1791\u17BC\u179A\u179F\u17D0\u1796\u17D2\u1791\u17A2\u17D2\u1793\u1780\u1791\u1791\u17BD\u179B",trigger:["blur"]},price:{required:!0,message:"\u179F\u17BC\u1798\u1794\u1789\u17D2\u1785\u17BC\u179B\u178F\u1798\u17D2\u179B\u17C3\u1795\u17D2\u1789\u17BE",trigger:["blur"]}},handleValidateClick(l){l.preventDefault(),e.value.validate(a=>{a?(console.log(a),t.error("Invalid")):t.success("Valid")})}}},components:{ArrowBackIosNewRound:ye,Icon:Q,Save:ke},data(){return{}},computed:{clientfilters(){let e=this.client.records.filter(t=>t.label.indexOf(this.client.record)!=-1);return e.length<=0?this.client.records:e}},methods:{saveProduct(){if(!this.validateData(this.product))return!1;this.savingLoading=!0,this.$store.dispatch("product/create",this.product).then(e=>{switch(e.status){case 200:this.getRecords();break}this.product=this.clearProduct,this.toggleCreatePopup(!1),this.savingLoading=!1}).catch(e=>{console.log(e)})},validateData(e){return e.from==""?(Notify({type:"warning",message:"\u179F\u17BC\u1798\u1794\u17C6\u1796\u17C1\u1789\u1796\u17D0\u178F\u17CC\u1798\u17B6\u1793\u17A2\u17C6\u1796\u17B8\u1780\u1793\u17D2\u179B\u17C2\u1784\u178A\u17B6\u1780\u17CB\u1795\u17D2\u1789\u17BE\u17D4"}),!1):e.to==""?(Notify({type:"warning",message:"\u179F\u17BC\u1798\u1794\u17C6\u1796\u17C1\u1789\u1796\u17D0\u178F\u17CC\u1798\u17B6\u1793\u17A2\u17C6\u1796\u17B8\u1782\u17C4\u179B\u178A\u17C5\u179A\u1794\u179F\u17CB\u17A5\u179C\u17C9\u17B6\u1793\u17CB\u17D4"}),!1):e.sender_phone==""?(Notify({type:"warning",message:"\u179F\u17BC\u1798\u1794\u1789\u17D2\u1785\u17BC\u179B\u179B\u17C1\u1781\u17A2\u17D2\u1793\u1780\u1795\u17D2\u1789\u17BE\u17D4"}),!1):e.receiver_phone==""?(Notify({type:"warning",message:"\u179F\u17BC\u1798\u1794\u1789\u17D2\u1785\u17BC\u179B\u179B\u17C1\u1781\u17A2\u17D2\u1793\u1780\u1791\u1791\u17BD\u179B\u17D4"}),!1):e.dimension==""?(Notify({type:"warning",message:"\u179F\u17BC\u1798\u1794\u1789\u17D2\u1787\u17B6\u1780\u17CB\u17A2\u17C6\u1796\u17B8\u1791\u17C6\u17A0\u17C6\u1793\u17C3\u1780\u17B6\u179A\u179C\u17C1\u1785\u1781\u17D2\u1785\u1794\u17CB\u17D4"}),!1):e.price==""?(Notify({type:"warning",message:"\u179F\u17BC\u1798\u1794\u1789\u17D2\u1787\u17B6\u1780\u17CB\u17A2\u17C6\u1796\u17B8\u178F\u1798\u17D2\u179B\u17C3\u17D4"}),!1):!0}}},uo=e=>(ee("data-v-6bc77e2c"),e=e(),te(),e),mo={class:"crud-create-form w-full"},fo={class:"mx-auto my-8 border border-gray-200 p-8 rounded shadow-sm flex-wrap"},po={class:"crud-form-top-panel flex w-full"},_o={class:"flex-none crud-actions"},ho=["innerHTML"],go={class:"flex-none crud-actions"},vo=R(" \u179A\u1780\u17D2\u179F\u17B6\u179A\u1791\u17BB\u1780 "),bo={class:"crud-form-panel w-full flex flex-wrap py-8"},wo=uo(()=>n("div",{class:"w-1/2 h-8"},null,-1));function xo(e,t,l,a,s,f){const u=i("ArrowBackIosNewRound"),p=i("n-icon"),_=i("n-button"),h=i("save"),m=i("n-input"),k=i("n-form-item"),P=i("n-auto-complete"),M=i("n-form");return g(),v("div",mo,[n("div",fo,[n("div",po,[n("div",_o,[o(_,{ghost:"",class:"",onClick:t[0]||(t[0]=c=>e.$router.push("/"+a.model.name))},{icon:r(()=>[o(p,null,{default:r(()=>[o(u)]),_:1})]),_:1})]),n("div",{class:"flex-grow crud-create-title font-pvh text-xl",innerHTML:a.model.title},null,8,ho),n("div",go,[o(_,{type:"success",onClick:t[1]||(t[1]=c=>f.saveProduct())},{icon:r(()=>[o(p,null,{default:r(()=>[o(h)]),_:1})]),default:r(()=>[vo]),_:1})])]),n("div",bo,[o(M,{class:"w-1/2 text-left font-btb text-lg","label-width":80,model:a.record,rules:a.rules,size:"large",ref:"formRef"},{default:r(()=>[o(k,{label:"\u1788\u17D2\u1798\u17C4\u17C7\u179F\u17B6\u1781\u17B6",path:"from"},{default:r(()=>[o(m,{disabled:!0,value:a.record.from,"onUpdate:value":t[2]||(t[2]=c=>a.record.from=c),placeholder:"\u1788\u17D2\u1798\u17C4\u17C7\u179F\u17B6\u1781\u17B6"},null,8,["value"])]),_:1}),o(k,{label:"\u17A2\u178F\u17B7\u1790\u17B7\u1787\u1793"},{default:r(()=>[o(P,{options:f.clientfilters,value:a.client.record,"onUpdate:value":t[3]||(t[3]=c=>a.client.record=c),placeholder:"\u179F\u17BC\u1798\u1787\u17D2\u179A\u17BE\u179F\u179A\u17BE\u179F\u17A2\u178F\u17B7\u1790\u17B7\u1787\u1793"},null,8,["options","value"])]),_:1}),o(k,{label:"\u1782\u17C4\u179B\u178A\u17C5\u179A\u1794\u179F\u17CB\u17A5\u179C\u17C9\u17B6\u1793\u17CB",path:"to"},{default:r(()=>[o(m,{value:a.record.to,"onUpdate:value":t[4]||(t[4]=c=>a.record.to=c),placeholder:"\u1782\u17C4\u179B\u178A\u17C5\u179A\u1794\u179F\u17CB\u17A5\u179C\u17C9\u17B6\u1793\u17CB"},null,8,["value"])]),_:1}),o(k,{label:"\u179B\u17C1\u1781\u17A2\u17D2\u1793\u1780\u1795\u17D2\u1789\u17BE",path:"sender_phone"},{default:r(()=>[o(m,{value:a.record.sender_phone,"onUpdate:value":t[5]||(t[5]=c=>a.record.sender_phone=c),placeholder:"\u179B\u17C1\u1781\u17A2\u17D2\u1793\u1780\u1795\u17D2\u1789\u17BE"},null,8,["value"])]),_:1}),o(k,{label:"\u179B\u17C1\u1781\u17A2\u17D2\u1793\u1780\u1791\u1791\u17BD\u179B",path:"receiver_phone"},{default:r(()=>[o(m,{value:a.record.receiver_phone,"onUpdate:value":t[6]||(t[6]=c=>a.record.receiver_phone=c),placeholder:"\u179B\u17C1\u1781\u17A2\u17D2\u1793\u1780\u1791\u1791\u17BD\u179B"},null,8,["value"])]),_:1}),o(k,{label:"\u178F\u1798\u17D2\u179B\u17C3\u1795\u17D2\u1789\u17BE (\u1794\u17B6\u178F)",path:"price"},{default:r(()=>[o(m,{value:a.record.price,"onUpdate:value":t[7]||(t[7]=c=>a.record.price=c),placeholder:"\u178F\u1798\u17D2\u179B\u17C3\u1795\u17D2\u1789\u17BE"},null,8,["value"])]),_:1}),o(k,{label:"\u1791\u17C6\u1784\u1793\u17CB (\u1782\u17B8\u17A1\u17BC)"},{default:r(()=>[o(m,{value:a.record.weight,"onUpdate:value":t[8]||(t[8]=c=>a.record.weight=c),placeholder:"\u1791\u17C6\u1784\u1793\u17CB"},null,8,["value"])]),_:1}),o(k,{label:"\u179F\u1798\u17D2\u1782\u17B6\u179B\u17CB"},{default:r(()=>[o(m,{type:"textarea",autosize:{minRows:3,maxRows:5},value:a.record.note,"onUpdate:value":t[9]||(t[9]=c=>a.record.note=c),placeholder:"\u179F\u1798\u17D2\u1782\u17B6\u179B\u17CB"},null,8,["value"])]),_:1})]),_:1},8,["model","rules"]),wo])])])}var yo=T(co,[["render",xo],["__scopeId","data-v-6bc77e2c"]]);const ko={setup(){return{}}},Co={class:"crud-update-form"},Ro=R("Crud Update Form ");function Mo(e,t,l,a,s,f){const u=i("van-icon"),p=i("router-link");return g(),v("div",Co,[Ro,o(p,{to:"/package",class:"mx-2 w-8 h-8 text-center hover:border-blue-300 duration-300 cursor-pointer"},{default:r(()=>[o(u,{name:"add-o",size:"30"})]),_:1})])}var Po=T(ko,[["render",Mo]]);const So={components:{QrcodeVue:ae,Vue3Barcode:ie,Switcher:de,Icon:Q,CreateForm:yo,UpdateForm:Po},setup(){return{}},name:"Product",data(){return{model:{name:"product",title:"\u1794\u1789\u17D2\u1789\u17BE"},table:{data:[],columns:[],pagination:{}},createPopToggle:!1,product:{code:"",from:"",to:"",sender:"",receiver:"",weight:"",dimension:"",price:"",note:""},savingLoading:!1}},beforeMount(){this.$store.dispatch("product/list",{pagination:{perPage:100,page:1}}).then(e=>{this.$store.commit("product/setRecords",e.data.records)}).catch(e=>{console.log(e)})},mounted(){},methods:{onDecode(e){console.log(e)},saveProduct(){this.savingLoading=!0}}},xe=e=>(ee("data-v-ab0d9a64"),e=e(),te(),e),$o={class:"flex title-bar border-b border-gray-200"},Uo={class:"flex w-64 h-10 py-1 title"},To=xe(()=>n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"mt-2 w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),zo=["innerHTML"],Lo={class:"flex-grow action-buttons flex-row-reverse flex"},Ao=xe(()=>n("div",{class:"filters-bar"},null,-1)),qo={class:"vcb-table-panel"},Io={class:"vcb-table"},Ho=xe(()=>n("tr",{class:"vcb-table-headers"},[n("th",{class:"vcb-table-header"},"\u179B.\u179A"),n("th",{class:"vcb-table-header"},"\u1780\u17BC\u178F"),n("th",{class:"vcb-table-header"},"\u179F\u17B6\u1781\u17B6"),n("th",{class:"vcb-table-header"},"\u1782\u17C4\u179B\u178A\u17C5"),n("th",{class:"vcb-table-header"},"\u179B\u17C1\u1781\u17A2\u17D2\u1793\u1780\u1795\u17D2\u1789\u17BE"),n("th",{class:"vcb-table-header"},"\u179B\u17C1\u1781\u17A2\u17D2\u1793\u1780\u1791\u1791\u17BD\u179B"),n("th",{class:"vcb-table-header"},"\u1791\u17C6\u1784\u1793\u17CB (\u1782\u17B8\u17A1\u17BC)"),n("th",{class:"vcb-table-header"},"\u178F\u1798\u17D2\u179B\u17C3 (\u0E3F)"),n("th",{class:"vcb-table-header"},"\u179F\u1798\u17D2\u1782\u17B6\u179B\u17CB")],-1)),Fo={class:"vcb-table-cell font-bold"},Oo={class:"vcb-table-cell"},Bo={class:"vcb-table-cell"},No={class:"vcb-table-cell"},jo={class:"vcb-table-cell"},Do={class:"vcb-table-cell"},Eo={class:"vcb-table-cell"},Vo={class:"vcb-table-cell"},Ko={class:"vcb-table-cell"};function Go(e,t,l,a,s,f){const u=i("Switcher"),p=i("Icon");return g(),v("div",null,[n("div",$o,[n("div",Uo,[To,n("div",{class:"leading-8 font-bold",innerHTML:s.model.title},null,8,zo)]),n("div",Lo,[n("div",{onClick:t[0]||(t[0]=_=>e.$router.push("/receive")),class:"mx-2 w-8 h-8 text-center hover:border-blue-300 duration-300 cursor-pointer"},[o(p,{size:30},{default:r(()=>[o(u)]),_:1})])]),Ao]),n("div",qo,[n("table",Io,[Ho,(g(!0),v(O,null,B(e.$store.getters["product/getRecords"].records,(_,h)=>(g(),v("tr",{key:h,class:"vcb-table-row"},[n("td",Fo,C(h+1),1),n("td",Oo,C(_.code),1),n("td",Bo,C(_.from),1),n("td",No,C(_.to),1),n("td",jo,C(_.sender_phone),1),n("td",Do,C(_.receiver_phone),1),n("td",Eo,C(_.weight),1),n("td",Vo,C(_.price),1),n("td",Ko,C(_.note),1)]))),128))])]),V("",!0)])}var Wo=T(So,[["render",Go],["__scopeId","data-v-ab0d9a64"]]);const Jo={setup(){return{rules:{to:{required:!0,message:"\u179F\u17BC\u1798\u1794\u1789\u17D2\u1785\u17BC\u179B\u1780\u1793\u17D2\u179B\u17C2\u1784\u1794\u1789\u17D2\u1787\u17BC\u1793\u17A5\u179C\u17C9\u17B6\u1793\u17CB\u1791\u17C5",trigger:"blur"},sender_phone:{required:!0,message:"\u179F\u17BC\u1798\u1794\u1789\u17D2\u1785\u17BC\u179B\u179B\u17C1\u1781\u1791\u17BC\u179A\u179F\u17D0\u1796\u17D2\u1791\u17A2\u17D2\u1793\u1780\u1795\u17D2\u1789\u17BE",trigger:["blur"]},receiver_phone:{required:!0,message:"\u179F\u17BC\u1798\u1794\u1789\u17D2\u1785\u17BC\u179B\u179B\u17C1\u1781\u1791\u17BC\u179A\u179F\u17D0\u1796\u17D2\u1791\u17A2\u17D2\u1793\u1780\u1791\u1791\u17BD\u179B",trigger:["blur"]},price:{required:!0,message:"\u179F\u17BC\u1798\u1794\u1789\u17D2\u1785\u17BC\u179B\u178F\u1798\u17D2\u179B\u17C3\u1795\u17D2\u1789\u17BE",trigger:["blur"]}},handleValidateClick(e){e.preventDefault(),formRef.value.validate(t=>{t?(console.log(t),message.error("Invalid")):message.success("Valid")})}}},components:{MdMan:Je,QrcodeVue:ae,Table:Qe,Icon:Q,Save:ke,ArrowBackIosNewRound:ye,Box16Regular:Ye,Print24Regular:Xe},data(){return{model:{name:"product",title:"\u1794\u1789\u17D2\u1789\u17BE"},createPopToggle:!1,editPopToggle:!1,products:{all:[],matched:[]},product:{create:{id:0,client_id:null,code:"",from:"\u1794\u17B6\u1784\u1780\u1780",to:"",sender_phone:"",receiver_phone:"",weight:"",dimension:"60x40x20",price:"",note:"",payment_status:1,total_packages:1},edit:{id:0,client_id:null,code:"",from:"\u1794\u17B6\u1784\u1780\u1780",to:"",sender_phone:"",receiver_phone:"",weight:"",dimension:"60x40x20",price:"",note:"",payment_status:1,total_packages:1}},savingLoading:!1,editLoading:!1,search:{value:""},client:{records:[],client_id:""},printing:{record:null,show:!1}}},computed:{totalPrice(){let e=0;for(var t in this.products.all)e+=this.products.all[t].price;return e},totalPricePaid(){let e=0;for(var t in this.products.all)e+=this.products.all[t].payment_status==1?this.products.all[t].price:0;return e},totalPriceUnpaid(){let e=0;for(var t in this.products.all)e+=this.products.all[t].payment_status!=1?this.products.all[t].price:0;return e},sctTransactionDate(){let e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},clientfilters(){return this.client.records.map(e=>({label:(e.lastname!==null?e.lastname+" ":"")+(e.firstname!==null?e.firstname+" ":"")+(e.phone!==null?e.phone+" ":"")+(e.email!==null?e.email+" ":""),value:e.id}))}},beforeMount(){this.getRecords(),this.$store.dispatch("client/list").then(e=>{switch(e.status){case 200:this.client.records=e.data.records}}).catch(e=>console.log(e))},mounted(){},methods:{updateClientForCreation(){console.log("me")},printReceipt(e){window.print()},showPrintReceipt(e){this.printing.record=e,this.printing.show=!0},closePrintReceipt(){this.printing.show=!1,this.printing.record=null},remove(e){Ze.confirm({title:"\u179B\u17BB\u1794\u1796\u17D0\u178F\u17CC\u1798\u17B6\u1793\u1794\u1789\u17D2\u1789\u17BE",message:"\u178F\u17BE\u17A2\u17D2\u1793\u1780\u1785\u1784\u17CB\u179B\u17BB\u1794\u1794\u1789\u17D2\u1789\u17BE \u1793\u17C1\u17C7\u1798\u17C2\u1793\u1791\u17C1?",confirmButtonText:"\u179B\u17BB\u1794",cancelButtonText:"\u1791\u17C1"}).then(()=>{this.$store.dispatch("product/delete",{id:e.id}).then(t=>{switch(t.status){case 200:F({type:"success",message:"\u1794\u17B6\u1793\u179B\u17BB\u1794\u179A\u17BD\u1785\u179A\u17B6\u179B\u17CB\u17D4"}),this.getRecords();break}}).catch(t=>{console.log("No"),F({type:"danger",message:"\u1794\u179A\u17B6\u1787\u17D0\u1799\u179B\u17BB\u1794\u1794\u1789\u17D2\u1789\u17BE\u17D4 "})})}).catch(()=>{})},edit(e){this.product.edit={id:e.id,client_id:e.client_id>0?e.client_id:null,code:e.code,from:e.from,to:e.to,sender_phone:e.sender_phone,receiver_phone:e.receiver_phone,weight:e.weight+"",dimension:e.dimension,price:e.price+"",note:e.note,payment_status:e.payment_status,total_packages:e.total_packages>0?e.total_packages:1},this.toggleEditPopup(!0)},print(e){},updateRecord(){if(!this.validateData(this.product.edit))return!1;this.product.edit.client_id=this.product.edit.client_id>0?this.product.edit.client_id:0,this.editLoading=!0,this.$store.dispatch("product/update",{id:this.product.edit.id,client_id:this.product.edit.client_id>0?this.product.edit.client_id:0,code:this.product.edit.code,from:this.product.edit.from,to:this.product.edit.to,sender_phone:this.product.edit.sender_phone,receiver_phone:this.product.edit.receiver_phone,weight:this.product.edit.weight<=0?0:this.product.edit.weight,dimension:this.product.edit.dimension,price:this.product.edit.price<=0?0:this.product.edit.price,note:this.product.edit.note,payment_status:this.product.edit.payment_status==1?1:0,total_packages:this.product.edit.total_packages>0?this.product.edit.total_packages:1}).then(e=>{switch(e.status){case 200:this.getRecords();break}this.product.edit=this.clearRecord(),this.toggleEditPopup(!1),this.editLoading=!1}).catch(e=>{console.log(e),this.editLoading=!1})},filterProducts(){this.products.matched=[];for(var e in this.products.all)this.products.all[e].code.indexOf(this.search.value)!=-1&&this.products.matched.push(this.products.all[e]);this.products.matched.length<=0&&(this.products.matched=this.products.all)},clearRecord(){return{id:0,client_id:null,code:"",from:"\u1794\u17B6\u1784\u1780\u1780",to:"",sender_phone:"",receiver_phone:"",weight:"",dimension:"60x40x20",price:"",note:"",payment_status:1,total_packages:1}},validateData(e){return e.from==""?(F({type:"warning",message:"\u179F\u17BC\u1798\u1794\u17C6\u1796\u17C1\u1789\u1796\u17D0\u178F\u17CC\u1798\u17B6\u1793\u17A2\u17C6\u1796\u17B8\u1780\u1793\u17D2\u179B\u17C2\u1784\u178A\u17B6\u1780\u17CB\u1795\u17D2\u1789\u17BE\u17D4"}),!1):e.to==""?(F({type:"warning",message:"\u179F\u17BC\u1798\u1794\u17C6\u1796\u17C1\u1789\u1796\u17D0\u178F\u17CC\u1798\u17B6\u1793\u17A2\u17C6\u1796\u17B8\u1782\u17C4\u179B\u178A\u17C5\u179A\u1794\u179F\u17CB\u17A5\u179C\u17C9\u17B6\u1793\u17CB\u17D4"}),!1):e.sender_phone==""?(F({type:"warning",message:"\u179F\u17BC\u1798\u1794\u1789\u17D2\u1785\u17BC\u179B\u179B\u17C1\u1781\u17A2\u17D2\u1793\u1780\u1795\u17D2\u1789\u17BE\u17D4"}),!1):e.receiver_phone==""?(F({type:"warning",message:"\u179F\u17BC\u1798\u1794\u1789\u17D2\u1785\u17BC\u179B\u179B\u17C1\u1781\u17A2\u17D2\u1793\u1780\u1791\u1791\u17BD\u179B\u17D4"}),!1):e.dimension==""?(F({type:"warning",message:"\u179F\u17BC\u1798\u1794\u1789\u17D2\u1787\u17B6\u1780\u17CB\u17A2\u17C6\u1796\u17B8\u1791\u17C6\u17A0\u17C6\u1793\u17C3\u1780\u17B6\u179A\u179C\u17C1\u1785\u1781\u17D2\u1785\u1794\u17CB\u17D4"}),!1):e.price==""?(F({type:"warning",message:"\u179F\u17BC\u1798\u1794\u1789\u17D2\u1787\u17B6\u1780\u17CB\u17A2\u17C6\u1796\u17B8\u178F\u1798\u17D2\u179B\u17C3\u17D4"}),!1):!0},toggleCreatePopup(e){this.createPopToggle=e===!0?e:!1},toggleEditPopup(e){this.editPopToggle=e===!0?e:!1},saveRecord(){if(!this.validateData(this.product.create))return!1;this.savingLoading=!0,this.$store.dispatch("product/create",{client_id:this.product.create.client_id>0?this.product.create.client_id:0,code:this.product.create.code,from:this.product.create.from,to:this.product.create.to,sender_phone:this.product.create.sender_phone,receiver_phone:this.product.create.receiver_phone,weight:this.product.create.weight<=0?0:this.product.create.weight,dimension:this.product.create.dimension,price:this.product.create.price<=0?0:this.product.create.price,note:this.product.create.note,payment_status:this.product.create.payment_status==1?1:0,total_packages:this.product.create.total_packages>0?this.product.create.total_packages:1}).then(e=>{switch(e.status){case 200:this.getRecords();break}this.product.create=this.clearRecord(),this.toggleCreatePopup(!1),this.savingLoading=!1}).catch(e=>{console.log(e)})},getRecords(){this.$store.dispatch("product/list",{pagination:{perPage:100,page:1}}).then(e=>{this.$store.commit("product/setRecords",e.data.records),this.products.all=this.products.matched=this.$store.getters["product/getRecords"].records}).catch(e=>{console.log(e)})}}},Qo={class:"flex flex-wrap justify-around"},Yo={class:"flex flex-wrap w-full h-12 border-b font-pvh"},Xo={class:"sct-transaction-date w-1/2 flex leading-10 font-dangrek text-xl"},Zo={class:"sct-transaction-new-package flex flex-row-reverse w-1/2"},en={class:"w-1/2"},tn={class:"w-1/4 leading-10 text-blue-500"},an={class:"font-dangrek mx-2 text-xl"},on={class:"w-1/3 leading-10 text-blue-600"},nn={class:"font-dangrek mx-2 text-xl"},ln={class:"w-1/3 leading-10 text-red-600"},sn={class:"font-dangrek mx-2 text-xl"},rn={class:"w-1/3 leading-10 text-green-600"},dn={class:"font-dangrek mx-2 text-xl"},cn=R("\u1780\u1789\u17D2\u1785\u1794\u17CB\u17A5\u179C\u17C9\u17B6\u1793\u17CB"),un={class:"w-full text-xl mt-4 mb-2 font-dangrek text-blue-500"},mn={class:"w-full font-extrabold my-1"},fn={class:"w-1/2 font-extrabold my-1"},pn={class:"w-1/2 font-extrabold my-1"},_n={class:"w-1/2 font-extrabold my-1"},hn={class:"w-full font-extrabold mt-1 mb-1 py-2"},gn={key:0,title:"\u1788\u17D2\u1798\u17C4\u17C7\u1797\u17D2\u1789\u17C0\u179C",class:"w-1/2 font-extrabold mt-2 mx-auto"},vn={class:"h-16 w-full leading-10 flex flex-wrap"},bn={class:"h-8"},wn={class:"w-1/2 font-extrabold mt-2 mx-auto"},xn={class:"mx-2 w-4 h-4 mt-1 text-center text-red-500 cursor-pointer absolute top-1 right-1"},yn={class:"mx-2 w-4 h-4 mt-1 text-center text-blue-500 cursor-pointer absolute top-1 right-8"},kn={class:"mx-2 w-4 h-4 mt-1 text-center text-yellow-500 cursor-pointer absolute top-1 right-16"},Cn={class:"vcb-pop-create font-ktr"},Rn=R(" \u179A\u1780\u17D2\u179F\u17B6\u179A\u1791\u17BB\u1780 "),Mn={class:"crud-create-form w-full border-t"},Pn={class:"mx-auto p-4 flex-wrap"},Sn={class:"crud-form-panel w-full flex flex-wrap"},$n=R("\u1794\u1784\u17CB\u1791\u17B8\u1793\u17C1\u17C7"),Un=R("\u1794\u1784\u17CB\u1796\u17C1\u179B\u178A\u179B\u17CB\u1782\u17C4\u179B\u178A\u17C5"),Tn=n("div",{class:"w-1/2 h-8"},null,-1),zn={class:"vcb-pop-edit font-ktr"},Ln=R(" \u179A\u1780\u17D2\u179F\u17B6\u179A\u1791\u17BB\u1780 "),An={class:"crud-create-form w-full border-t"},qn={class:"mx-auto p-4 flex-wrap"},In={class:"crud-form-panel w-full flex flex-wrap"},Hn=R("\u1794\u1784\u17CB\u1791\u17B8\u1793\u17C1\u17C7"),Fn=R("\u1794\u1784\u17CB\u1796\u17C1\u179B\u178A\u179B\u17CB\u1782\u17C4\u179B\u178A\u17C5"),On=n("div",{class:"w-1/2 h-8"},null,-1),Bn={key:0,class:"printing-dialog absolute left-0 top-0 right-0 bottom-0 bg-white"},Nn={key:0,id:"receiptPrintArea",class:"font-ktr relative flex flex-wrap text-left m-4 p-4 mx-auto mt-5",style:{width:"302.36px"}},jn=n("div",{class:"w-full font-extrabold my-1 text-center"},[n("img",{src:we,class:"rounded-full w-20 mx-auto",alt:"SCT Logo",title:"SCT Logo"}),R(" Sony Cambodia Transportation Co,. Ltd. "),n("br"),R("(+66) 83 2222 496 / (+66) 88 8857 941 "),n("br"),R("120 433 Soi Phetchaburi 15, Thanon Phaya Thai, Ratchathewi, Bangkok 10400 ")],-1),Dn={class:"w-full text-xl mt-4 mb-2 font-dangrek text-center"},En={class:"w-full font-extrabold my-1"},Vn={class:"w-full font-extrabold my-1"},Kn={class:"w-1/2 font-extrabold my-1"},Gn=R(" \u1791\u17BC\u179A\u179F\u17D0\u1796\u17D2\u1791\u17A2\u17D2\u1793\u1780\u1795\u17D2\u1789\u17BE \u17D6 "),Wn={class:"w-1/2 font-extrabold my-1"},Jn=R(" \u1791\u17BC\u179A\u179F\u17D0\u1796\u17D2\u1791\u17A2\u17D2\u1793\u1780\u1791\u1791\u17BD\u179B \u17D6 "),Qn={class:"w-1/2 font-extrabold my-1"},Yn={class:"w-1/2 font-extrabold my-1"},Xn={class:"w-full font-extrabold my-1"},Zn={class:"w-full font-extrabold mt-1 mb-1 py-2"},el={class:"w-1/2 font-extrabold mt-2 mx-auto"};function tl(e,t,l,a,s,f){const u=i("van-icon"),p=i("van-divider"),_=i("MdMan"),h=i("Icon"),m=i("qrcode-vue"),k=i("Print24Regular"),P=i("icon"),M=i("save"),c=i("n-icon"),z=i("n-button"),S=i("n-input"),y=i("n-form-item"),x=i("n-select"),A=i("n-input-number"),q=i("n-radio-button"),U=i("n-radio-group"),E=i("n-form"),w=i("n-card"),b=i("n-modal");return g(),v("div",Qo,[n("div",Yo,[n("div",Xo,C(f.sctTransactionDate),1),n("div",Zo,[n("div",{onClick:t[0]||(t[0]=d=>f.toggleCreatePopup(!0)),class:"mx-2 w-8 h-8 mt-1 text-center hover:border-blue-300 duration-300 cursor-pointer"},[o(u,{name:"add-o",size:32,class:"hover:text-blue-600"})]),n("div",en,[Ce(n("input",{type:"text",onKeyup:t[1]||(t[1]=(...d)=>f.filterProducts&&f.filterProducts(...d)),"onUpdate:modelValue":t[2]||(t[2]=d=>s.search.value=d),class:"bg-gray-100 px-2 h-8 my-1 w-full rounded border border-gray-200 focus:border-blue-600 hover:border-blue-600",placeholder:"\u179F\u17D2\u179C\u17C2\u1784\u179A\u1780\u17A5\u179C\u17C9\u17B6\u1793\u17CB\u178F\u17B6\u1798\u179B\u17C1\u1781\u1780\u17BC\u178A"},null,544),[[Re,s.search.value]])]),n("div",tn,[n("strong",an,C(this.products.all.length+" \u178A\u17BB\u17C6"),1)]),n("div",on,[o(u,{name:"paid"}),n("strong",nn,C(f.totalPrice+" \u0E3F"),1)]),n("div",ln,[o(u,{name:"paid"}),n("strong",sn,C(f.totalPriceUnpaid+" \u0E3F"),1)]),n("div",rn,[o(u,{name:"paid"}),n("strong",dn,C(f.totalPricePaid+" \u0E3F"),1)])])]),o(p,{class:"w-full text-2xl font-pvh"},{default:r(()=>[cn]),_:1}),(g(!0),v(O,null,B(this.products.matched,(d,W)=>(g(),v("div",{key:W,class:"font-ktr w-1/6 relative flex flex-wrap text-left border border-gray-300 bg-gray-50 m-4 p-4 shadow hover:shadow-xl"},[n("div",un,C(d.code),1),n("div",mn,[o(u,{name:"location",color:"#1989fa"}),R(" "+C(d.to),1)]),n("div",fn,[o(u,{name:"phone-o",color:"#1989fa"}),R(" "+C(d.sender_phone),1)]),n("div",pn,[o(u,{name:"phone",color:"#1989fa"}),R(" "+C(d.receiver_phone),1)]),n("div",_n," \u1785\u17C6\u1793\u17BD\u1793\u1780\u1789\u17D2\u1785\u1794\u17CB \u17D6 "+C(d.total_packages),1),n("div",{class:ce("w-full font-extrabold my-1 "+(d.payment_status==1?"text-green-600 ":"text-red-600 "))},[o(u,{name:"paid"}),R(" "+C(d.price)+" \u0E3F - "+C(d.payment_status==1?"\u1794\u1784\u17CB\u179A\u17BD\u1785":"\u1798\u17B7\u1793\u1791\u17B6\u1793\u17CB\u1794\u1784\u17CB"),1)],2),n("div",hn,C(d.note),1),d.client!==void 0?(g(),v("div",gn,[n("div",vn,[o(h,{size:"30",class:"text-blue-500"},{default:r(()=>[o(_)]),_:1}),n("div",bn,C((d.client.lastname!==null?d.client.lastname+" ":"")+(d.client.firstname!==null?d.client.firstname:"")),1)])])):V("",!0),n("div",wn,[o(m,{value:d.to+","+d.code+","+d.sender_phone+","+d.receiver_phone,size:60,level:"H",class:"mx-auto"},null,8,["value"])]),n("div",xn,[o(u,{name:"close",size:20,class:"",onClick:J=>f.remove(d)},null,8,["onClick"])]),n("div",yn,[o(u,{name:"edit",size:20,class:"",onClick:J=>f.edit(d)},null,8,["onClick"])]),n("div",kn,[o(P,{size:"20",class:"",onClick:J=>f.showPrintReceipt(d)},{default:r(()=>[o(k)]),_:2},1032,["onClick"])])]))),128)),n("div",Cn,[o(b,{show:s.createPopToggle,"onUpdate:show":t[14]||(t[14]=d=>s.createPopToggle=d),"transform-origin":"center"},{default:r(()=>[o(w,{class:"w-1/2 font-pvh text-xl",title:"\u1794\u1793\u17D2\u1790\u17C2\u1798\u1794\u1789\u17D2\u1789\u17BE",bordered:!1,size:"small"},{"header-extra":r(()=>[o(z,{type:"success",onClick:t[3]||(t[3]=d=>f.saveRecord())},{icon:r(()=>[o(c,null,{default:r(()=>[o(M)]),_:1})]),default:r(()=>[Rn]),_:1})]),footer:r(()=>[]),default:r(()=>[n("div",Mn,[n("div",Pn,[n("div",Sn,[o(E,{class:"w-full text-left font-btb text-lg flex flex-wrap","label-width":80,model:s.product.create,rules:a.rules,size:"large",ref:"formRef"},{default:r(()=>[o(y,{label:"\u1788\u17D2\u1798\u17C4\u17C7\u179F\u17B6\u1781\u17B6",path:"from",class:"w-2/5 mr-8"},{default:r(()=>[o(S,{disabled:!0,value:s.product.create.from,"onUpdate:value":t[4]||(t[4]=d=>s.product.create.from=d),placeholder:"\u1788\u17D2\u1798\u17C4\u17C7\u179F\u17B6\u1781\u17B6"},null,8,["value"])]),_:1}),o(y,{label:"\u17A2\u178F\u17B7\u1790\u17B7\u1787\u1793",class:"w-2/5 mr-8"},{default:r(()=>[o(x,{value:s.product.create.client_id,"onUpdate:value":t[5]||(t[5]=d=>s.product.create.client_id=d),"on-update:value":"updateClientForCreation",filterable:"",clearable:"",placeholder:"\u179F\u17BC\u1798\u1787\u17D2\u179A\u17BE\u179F\u179A\u17BE\u179F\u17A2\u178F\u17B7\u1790\u17B7\u1787\u1793",options:f.clientfilters},null,8,["value","options"])]),_:1}),o(y,{label:"\u1782\u17C4\u179B\u178A\u17C5\u179A\u1794\u179F\u17CB\u17A5\u179C\u17C9\u17B6\u1793\u17CB",path:"to",class:"w-2/5 mr-8"},{default:r(()=>[o(S,{value:s.product.create.to,"onUpdate:value":t[6]||(t[6]=d=>s.product.create.to=d),placeholder:"\u1782\u17C4\u179B\u178A\u17C5\u179A\u1794\u179F\u17CB\u17A5\u179C\u17C9\u17B6\u1793\u17CB"},null,8,["value"])]),_:1}),o(y,{label:"\u179B\u17C1\u1781\u17A2\u17D2\u1793\u1780\u1795\u17D2\u1789\u17BE",path:"sender_phone",class:"w-2/5 mr-8"},{default:r(()=>[o(S,{value:s.product.create.sender_phone,"onUpdate:value":t[7]||(t[7]=d=>s.product.create.sender_phone=d),placeholder:"\u179B\u17C1\u1781\u17A2\u17D2\u1793\u1780\u1795\u17D2\u1789\u17BE"},null,8,["value"])]),_:1}),o(y,{label:"\u179B\u17C1\u1781\u17A2\u17D2\u1793\u1780\u1791\u1791\u17BD\u179B",path:"receiver_phone",class:"w-2/5 mr-8"},{default:r(()=>[o(S,{value:s.product.create.receiver_phone,"onUpdate:value":t[8]||(t[8]=d=>s.product.create.receiver_phone=d),placeholder:"\u179B\u17C1\u1781\u17A2\u17D2\u1793\u1780\u1791\u1791\u17BD\u179B"},null,8,["value"])]),_:1}),o(y,{label:"\u178F\u1798\u17D2\u179B\u17C3\u1795\u17D2\u1789\u17BE (\u1794\u17B6\u178F)",path:"price",class:"w-2/5 mr-8"},{default:r(()=>[o(S,{value:s.product.create.price,"onUpdate:value":t[9]||(t[9]=d=>s.product.create.price=d),placeholder:"\u178F\u1798\u17D2\u179B\u17C3\u1795\u17D2\u1789\u17BE"},null,8,["value"])]),_:1}),o(y,{label:"\u1785\u17C6\u1793\u17BD\u1793\u1780\u1789\u17D2\u1785\u1794\u17CB",path:"total_packages",class:"w-2/5 mr-8"},{default:r(()=>[o(A,{type:"number",step:1,min:1,value:s.product.create.total_packages,"onUpdate:value":t[10]||(t[10]=d=>s.product.create.total_packages=d),placeholder:"\u1785\u17C6\u1793\u17BD\u1793\u1780\u1789\u17D2\u1785\u1794\u17CB"},null,8,["value"])]),_:1}),o(y,{label:"\u1791\u17C6\u1784\u1793\u17CB (\u1782\u17B8\u17A1\u17BC)",class:"w-2/5 mr-8"},{default:r(()=>[o(S,{value:s.product.create.weight,"onUpdate:value":t[11]||(t[11]=d=>s.product.create.weight=d),placeholder:"\u1791\u17C6\u1784\u1793\u17CB"},null,8,["value"])]),_:1}),o(y,{label:"\u1780\u17B6\u179A\u1794\u1784\u17CB\u1794\u17D2\u179A\u17B6\u1780\u17CB",class:"w-2/5 mr-8"},{default:r(()=>[o(U,{value:s.product.create.payment_status,"onUpdate:value":t[12]||(t[12]=d=>s.product.create.payment_status=d),name:"left-size",style:{"margin-bottom":"12px"}},{default:r(()=>[o(q,{value:1},{default:r(()=>[$n]),_:1}),o(q,{value:0},{default:r(()=>[Un]),_:1})]),_:1},8,["value"])]),_:1}),o(y,{label:"\u179F\u1798\u17D2\u1782\u17B6\u179B\u17CB",class:"w-full"},{default:r(()=>[o(S,{type:"textarea",autosize:{minRows:3,maxRows:5},value:s.product.create.note,"onUpdate:value":t[13]||(t[13]=d=>s.product.create.note=d),placeholder:"\u179F\u1798\u17D2\u1782\u17B6\u179B\u17CB"},null,8,["value"])]),_:1})]),_:1},8,["model","rules"]),Tn])])])]),_:1})]),_:1},8,["show"])]),n("div",zn,[o(b,{show:s.editPopToggle,"onUpdate:show":t[26]||(t[26]=d=>s.editPopToggle=d),"transform-origin":"center"},{default:r(()=>[o(w,{class:"w-1/2 font-pvh text-xl",title:"\u1780\u17C2\u1794\u17D2\u179A\u17C2\u1794\u1789\u17D2\u1789\u17BE",bordered:!1,size:"small"},{"header-extra":r(()=>[o(z,{type:"success",onClick:t[15]||(t[15]=d=>f.updateRecord())},{icon:r(()=>[o(c,null,{default:r(()=>[o(M)]),_:1})]),default:r(()=>[Ln]),_:1})]),footer:r(()=>[]),default:r(()=>[n("div",An,[n("div",qn,[n("div",In,[o(E,{class:"w-full text-left font-btb text-lg flex flex-wrap","label-width":80,model:s.product.create,rules:a.rules,size:"large",ref:"formRef"},{default:r(()=>[o(y,{label:"\u1788\u17D2\u1798\u17C4\u17C7\u179F\u17B6\u1781\u17B6",path:"from",class:"w-2/5 mr-8"},{default:r(()=>[o(S,{disabled:!0,value:s.product.edit.from,"onUpdate:value":t[16]||(t[16]=d=>s.product.edit.from=d),placeholder:"\u1788\u17D2\u1798\u17C4\u17C7\u179F\u17B6\u1781\u17B6"},null,8,["value"])]),_:1}),o(y,{label:"\u17A2\u178F\u17B7\u1790\u17B7\u1787\u1793",class:"w-2/5 mr-8"},{default:r(()=>[o(x,{value:s.product.edit.client_id,"onUpdate:value":t[17]||(t[17]=d=>s.product.edit.client_id=d),filterable:"",clearable:"",placeholder:"\u179F\u17BC\u1798\u1787\u17D2\u179A\u17BE\u179F\u179A\u17BE\u179F\u17A2\u178F\u17B7\u1790\u17B7\u1787\u1793",options:f.clientfilters},null,8,["value","options"])]),_:1}),o(y,{label:"\u1782\u17C4\u179B\u178A\u17C5\u179A\u1794\u179F\u17CB\u17A5\u179C\u17C9\u17B6\u1793\u17CB",path:"to",class:"w-2/5 mr-8"},{default:r(()=>[o(S,{value:s.product.edit.to,"onUpdate:value":t[18]||(t[18]=d=>s.product.edit.to=d),placeholder:"\u1782\u17C4\u179B\u178A\u17C5\u179A\u1794\u179F\u17CB\u17A5\u179C\u17C9\u17B6\u1793\u17CB"},null,8,["value"])]),_:1}),o(y,{label:"\u179B\u17C1\u1781\u17A2\u17D2\u1793\u1780\u1795\u17D2\u1789\u17BE",path:"sender_phone",class:"w-2/5 mr-8"},{default:r(()=>[o(S,{value:s.product.edit.sender_phone,"onUpdate:value":t[19]||(t[19]=d=>s.product.edit.sender_phone=d),placeholder:"\u179B\u17C1\u1781\u17A2\u17D2\u1793\u1780\u1795\u17D2\u1789\u17BE"},null,8,["value"])]),_:1}),o(y,{label:"\u179B\u17C1\u1781\u17A2\u17D2\u1793\u1780\u1791\u1791\u17BD\u179B",path:"receiver_phone",class:"w-2/5 mr-8"},{default:r(()=>[o(S,{value:s.product.edit.receiver_phone,"onUpdate:value":t[20]||(t[20]=d=>s.product.edit.receiver_phone=d),placeholder:"\u179B\u17C1\u1781\u17A2\u17D2\u1793\u1780\u1791\u1791\u17BD\u179B"},null,8,["value"])]),_:1}),o(y,{label:"\u178F\u1798\u17D2\u179B\u17C3\u1795\u17D2\u1789\u17BE (\u1794\u17B6\u178F)",path:"price",class:"w-2/5 mr-8"},{default:r(()=>[o(S,{value:s.product.edit.price,"onUpdate:value":t[21]||(t[21]=d=>s.product.edit.price=d),placeholder:"\u178F\u1798\u17D2\u179B\u17C3\u1795\u17D2\u1789\u17BE"},null,8,["value"])]),_:1}),o(y,{label:"\u1785\u17C6\u1793\u17BD\u1793\u1780\u1789\u17D2\u1785\u1794\u17CB",path:"total_packages",class:"w-2/5 mr-8"},{default:r(()=>[o(A,{type:"number",step:1,min:1,value:s.product.edit.total_packages,"onUpdate:value":t[22]||(t[22]=d=>s.product.edit.total_packages=d),placeholder:"\u1785\u17C6\u1793\u17BD\u1793\u1780\u1789\u17D2\u1785\u1794\u17CB"},null,8,["value"])]),_:1}),o(y,{label:"\u1791\u17C6\u1784\u1793\u17CB (\u1782\u17B8\u17A1\u17BC)",class:"w-2/5 mr-8"},{default:r(()=>[o(S,{value:s.product.edit.weight,"onUpdate:value":t[23]||(t[23]=d=>s.product.edit.weight=d),placeholder:"\u1791\u17C6\u1784\u1793\u17CB"},null,8,["value"])]),_:1}),o(y,{label:"\u1780\u17B6\u179A\u1794\u1784\u17CB\u1794\u17D2\u179A\u17B6\u1780\u17CB",class:"w-2/5 mr-8"},{default:r(()=>[o(U,{value:s.product.edit.payment_status,"onUpdate:value":t[24]||(t[24]=d=>s.product.edit.payment_status=d),name:"left-size",style:{"margin-bottom":"12px"}},{default:r(()=>[o(q,{value:1},{default:r(()=>[Hn]),_:1}),o(q,{value:0},{default:r(()=>[Fn]),_:1})]),_:1},8,["value"])]),_:1}),o(y,{label:"\u179F\u1798\u17D2\u1782\u17B6\u179B\u17CB",class:"w-full"},{default:r(()=>[o(S,{type:"textarea",autosize:{minRows:3,maxRows:5},value:s.product.edit.note,"onUpdate:value":t[25]||(t[25]=d=>s.product.edit.note=d),placeholder:"\u179F\u1798\u17D2\u1782\u17B6\u179B\u17CB"},null,8,["value"])]),_:1})]),_:1},8,["model","rules"]),On])])])]),_:1})]),_:1},8,["show"])]),s.printing.show?(g(),v("div",Bn,[s.printing.record!==null?(g(),v("div",Nn,[jn,n("div",Dn,C(s.printing.record.code),1),n("div",En,[o(u,{name:"location-o",color:"#1989fa"}),R(" \u1785\u17C1\u1789\u1796\u17B8\u2003\u17D6 "+C(s.printing.record.from),1)]),n("div",Vn,[o(u,{name:"location",color:"#1989fa"}),R(" \u1782\u17C4\u179B\u178A\u17C5\xA0\u17D6 "+C(s.printing.record.to),1)]),n("div",Kn,[o(u,{name:"phone-o",color:"#1989fa"}),Gn]),n("div",Wn,[o(u,{name:"phone",color:"#1989fa"}),Jn]),n("div",Qn,C(s.printing.record.sender_phone),1),n("div",Yn,C(s.printing.record.receiver_phone),1),n("div",Xn," \u1785\u17C6\u1793\u17BD\u1793\u1780\u1789\u17D2\u1785\u1794\u17CB \u17D6 "+C(s.printing.record.total_packages),1),n("div",{class:ce("w-full font-extrabold my-1 "+(s.printing.record.payment_status==1?"text-green-600 ":"text-red-600 "))},[o(u,{name:"paid"}),R(" "+C(s.printing.record.price)+" \u0E3F - "+C(s.printing.record.payment_status==1?"\u1794\u1784\u17CB\u179A\u17BD\u1785":"\u1798\u17B7\u1793\u1791\u17B6\u1793\u17CB\u1794\u1784\u17CB"),1)],2),n("div",Zn,C(s.printing.record.note),1),n("div",el,[o(m,{value:s.printing.record.to+","+s.printing.record.code+","+s.printing.record.sender_phone+","+s.printing.record.receiver_phone,size:60,level:"H",class:"mx-auto"},null,8,["value"])])])):V("",!0),n("div",{id:"buttonPrintReceipt",class:"buttonPrintReceipt mx-2 w-4 h-4 mt-1 text-center text-green-500 cursor-pointer absolute top-2 right-24",onClick:t[28]||(t[28]=d=>f.printReceipt())},[o(P,{size:"40",class:"",onClick:t[27]||(t[27]=d=>f.showPrintReceipt(e.record))},{default:r(()=>[o(k)]),_:1})]),n("div",{id:"buttonClosePrinting",class:"buttonClosePrinting mx-2 w-4 h-4 mt-1 text-center text-red-500 cursor-pointer absolute top-2 right-7",onClick:t[29]||(t[29]=d=>f.closePrintReceipt())},[o(u,{name:"close",size:40,class:""})])])):V("",!0)])}var al=T(Jo,[["render",tl]]);const ol={},nl={class:"w-full"};function ll(e,t){const l=i("router-view");return g(),v("div",nl,[o(l,null,{default:r(({Component:a})=>[o(le,{name:e.$route.meta.transition||"fade"},{default:r(()=>[(g(),X(se(a)))]),_:2},1032,["name"])]),_:1})])}var sl=T(ol,[["render",ll]]);const rl={components:{Save20Regular:G},props:{model:{type:Object,required:!0,default:()=>$({name:"Undefined",title:"No title"})},record:{type:Object,required:!1,default:()=>$({id:0,username:"",firstname:"",lastname:"",email:"",phone:"",active:1,password:""})},show:{type:Boolean,default:!1},onClose:{type:Function}},setup(e){var t=K();const l=j();var a={firstname:{required:!0,message:"\u179F\u17BC\u1798\u1794\u1789\u17D2\u1785\u17BC\u179B\u1788\u17D2\u1798\u17C4\u17C7",trigger:["blur"]},lastname:{required:!0,message:"\u179F\u17BC\u1798\u1794\u1789\u17D2\u1785\u17BC\u179B\u178F\u17D2\u179A\u1780\u17BC\u179B",trigger:["blur"]},password:{required:!0,message:"\u179F\u17BC\u1798\u1794\u1789\u17D2\u1785\u17BC\u179B\u1796\u17B6\u1780\u17D2\u1799\u179F\u1798\u17D2\u1784\u17B6\u178F\u17CB",trigger:["blur"]}};function s(){e.record={id:0,username:"",lastname:"",firstname:"",phone:"",email:"",password:"",active:1}}function f(){if(e.record.phone==""&&e.record.email=="")return l.warning("\u179F\u17BC\u1798\u1794\u17C6\u1796\u17C1\u1789 \u179B\u17C1\u1781\u1791\u17BC\u179A\u179F\u17D0\u1796\u17D2\u1791 \u17AC \u17A2\u17CA\u17B8\u1798\u17C2\u179B"),!1;if(e.model===void 0||e.model.name=="")return l.warning("\u1791\u1798\u17D2\u179A\u1784\u17CB\u1793\u17C3\u1796\u17D0\u178F\u17CC\u1798\u17B6\u1793\u1798\u17B7\u1793\u1791\u17B6\u1793\u17CB\u1794\u17B6\u1793\u1780\u17C6\u178E\u178F\u17CB\u17D4"),!1;t.dispatch(e.model.name+"/create",{id:e.record.id,username:e.record.username,firstname:e.record.firstname,lastname:e.record.lastname,phone:e.record.phone,email:e.record.email,password:e.record.password,active:e.record.active==1?1:0}).then(u=>{switch(u.status){case 200:l.success(u.data.message),s(),e.onClose();break}}).catch(u=>{l.error(u)})}return{rules:a,create:f}}},il={class:"vcb-pop-create font-ktr"},dl=R(" \u179A\u1780\u17D2\u179F\u17B6\u179A\u1791\u17BB\u1780 "),cl={class:"crud-create-form w-full border-t"},ul={class:"mx-auto p-4 flex-wrap"},ml={class:"crud-form-panel w-full flex flex-wrap"},fl=n("div",{class:"w-1/2 h-8"},null,-1);function pl(e,t,l,a,s,f){const u=i("Save20Regular"),p=i("n-icon"),_=i("n-button"),h=i("n-input"),m=i("n-form-item"),k=i("n-form"),P=i("n-card"),M=i("n-modal");return g(),v("div",il,[o(M,{show:l.show,"onUpdate:show":t[7]||(t[7]=c=>l.show=c),"on-after-leave":l.onClose,"transform-origin":"center"},{default:r(()=>[o(P,{class:"w-1/2 font-pvh text-xl",title:"\u1794\u1793\u17D2\u1790\u17C2\u1798 "+l.model.title,bordered:!1,size:"small"},{"header-extra":r(()=>[o(_,{type:"success",onClick:t[0]||(t[0]=c=>a.create())},{icon:r(()=>[o(p,null,{default:r(()=>[o(u)]),_:1})]),default:r(()=>[dl]),_:1})]),footer:r(()=>[]),default:r(()=>[n("div",cl,[n("div",ul,[n("div",ml,[o(k,{class:"w-full text-left font-btb text-lg flex flex-wrap","label-width":80,model:l.record,rules:a.rules,size:"large",ref:"formRef"},{default:r(()=>[o(m,{label:"\u1788\u17D2\u1798\u17C4\u17C7\u1780\u17D2\u1793\u17BB\u1784\u1794\u17D2\u179A\u1796\u17D0\u1793\u17D2\u1792",path:"username",class:"w-4/5 mr-8"},{default:r(()=>[o(h,{value:l.record.username,"onUpdate:value":t[1]||(t[1]=c=>l.record.username=c),placeholder:"\u1788\u17D2\u1798\u17C4\u17C7\u1780\u17D2\u1793\u17BB\u1784\u1794\u17D2\u179A\u1796\u17D0\u1793\u17D2\u1792"},null,8,["value"])]),_:1}),o(m,{label:"\u178F\u17D2\u179A\u1780\u17BC\u179B",path:"lastname",class:"w-4/5 mr-8"},{default:r(()=>[o(h,{value:l.record.lastname,"onUpdate:value":t[2]||(t[2]=c=>l.record.lastname=c),placeholder:"\u178F\u17D2\u179A\u1780\u17BC\u179B"},null,8,["value"])]),_:1}),o(m,{label:"\u1788\u17D2\u1798\u17C4\u17C7",path:"firstname",class:"w-4/5 mr-8"},{default:r(()=>[o(h,{value:l.record.firstname,"onUpdate:value":t[3]||(t[3]=c=>l.record.firstname=c),placeholder:"\u1788\u17D2\u1798\u17C4\u17C7"},null,8,["value"])]),_:1}),o(m,{label:"\u1791\u17BC\u179A\u179F\u17D0\u1796\u17D2\u1791",path:"phone",class:"w-4/5 mr-8"},{default:r(()=>[o(h,{value:l.record.phone,"onUpdate:value":t[4]||(t[4]=c=>l.record.phone=c),placeholder:"\u1791\u17BC\u179A\u179F\u17D0\u1796\u17D2\u1791"},null,8,["value"])]),_:1}),o(m,{label:"\u17A2\u17CA\u17B8\u1798\u17C2\u179B",path:"email",class:"w-4/5 mr-8"},{default:r(()=>[o(h,{value:l.record.email,"onUpdate:value":t[5]||(t[5]=c=>l.record.email=c),placeholder:"\u17A2\u17CA\u17B8\u1798\u17C2\u179B"},null,8,["value"])]),_:1}),o(m,{label:"\u1796\u17B6\u1780\u17D2\u1799\u179F\u1798\u17D2\u1784\u17B6\u178F\u17CB",path:"password",class:"w-4/5 mr-8"},{default:r(()=>[o(h,{value:l.record.password,"onUpdate:value":t[6]||(t[6]=c=>l.record.password=c),placeholder:"\u1796\u17B6\u1780\u17D2\u1799\u179F\u1798\u17D2\u1784\u17B6\u178F\u17CB"},null,8,["value"])]),_:1})]),_:1},8,["model","rules"]),fl])])])]),_:1},8,["title"])]),_:1},8,["show","on-after-leave"])])}var $e=T(rl,[["render",pl]]);const _l={components:{Save20Regular:G},props:{model:{type:Object,required:!0,default:()=>$({name:"Undefined",title:"No title"})},record:{type:Object,required:!0,default:()=>$({id:0,username:"",firstname:"",lastname:"",email:"",phone:""})},show:{type:Boolean,default:!1},onClose:{type:Function}},setup(e){var t=K();const l=j();var a={firstname:{required:!0,message:"\u179F\u17BC\u1798\u1794\u1789\u17D2\u1785\u17BC\u179B\u1788\u17D2\u1798\u17C4\u17C7",trigger:["blur"]},lastname:{required:!0,message:"\u179F\u17BC\u1798\u1794\u1789\u17D2\u1785\u17BC\u179B\u178F\u17D2\u179A\u1780\u17BC\u179B",trigger:["blur"]}};function s(){e.record.id=0,e.record.username="",e.record.firstname="",e.record.lastname="",e.record.phone="",e.record.email=""}function f(){if(e.record.phone==""&&e.record.email=="")return l.warning("\u179F\u17BC\u1798\u1794\u17C6\u1796\u17C1\u1789 \u179B\u17C1\u1781\u1791\u17BC\u179A\u179F\u17D0\u1796\u17D2\u1791 \u17AC \u17A2\u17CA\u17B8\u1798\u17C2\u179B"),!1;if(e.model===void 0||e.model.name=="")return l.warning("\u1791\u1798\u17D2\u179A\u1784\u17CB\u1793\u17C3\u1796\u17D0\u178F\u17CC\u1798\u17B6\u1793\u1798\u17B7\u1793\u1791\u17B6\u1793\u17CB\u1794\u17B6\u1793\u1780\u17C6\u178E\u178F\u17CB\u17D4"),!1;t.dispatch(e.model.name+"/update",{id:e.record.id,username:e.record.username,firstname:e.record.firstname,lastname:e.record.lastname,phone:e.record.phone,email:e.record.email}).then(u=>{switch(u.status){case 200:l.success(u.data.message),s(),e.onClose();break}}).catch(u=>{l.error(u)})}return{rules:a,update:f}}},hl={class:"vcb-pop-create font-ktr"},gl=R(" \u179A\u1780\u17D2\u179F\u17B6\u179A\u1791\u17BB\u1780 "),vl={class:"crud-create-form w-full border-t"},bl={class:"mx-auto p-4 flex-wrap"},wl={class:"crud-form-panel w-full flex flex-wrap"},xl=n("div",{class:"w-1/2 h-8"},null,-1);function yl(e,t,l,a,s,f){const u=i("Save20Regular"),p=i("n-icon"),_=i("n-button"),h=i("n-input"),m=i("n-form-item"),k=i("n-form"),P=i("n-card"),M=i("n-modal");return g(),v("div",hl,[o(M,{show:l.show,"onUpdate:show":t[6]||(t[6]=c=>l.show=c),"on-after-leave":l.onClose,"transform-origin":"center"},{default:r(()=>[o(P,{class:"w-1/2 font-pvh text-xl",title:"\u1780\u17C2\u1794\u17D2\u179A\u17C2 "+l.model.title,bordered:!1,size:"small"},{"header-extra":r(()=>[o(_,{type:"success",onClick:t[0]||(t[0]=c=>a.update())},{icon:r(()=>[o(p,null,{default:r(()=>[o(u)]),_:1})]),default:r(()=>[gl]),_:1})]),footer:r(()=>[]),default:r(()=>[n("div",vl,[n("div",bl,[n("div",wl,[o(k,{class:"w-full text-left font-btb text-lg flex flex-wrap","label-width":80,model:l.record,rules:a.rules,size:"large",ref:"formRef"},{default:r(()=>[o(m,{label:"\u1788\u17D2\u1798\u17C4\u17C7\u1780\u17D2\u1793\u17BB\u1784\u1794\u17D2\u179A\u1796\u17D0\u1793\u17D2\u1792",path:"username",class:"w-4/5 mr-8"},{default:r(()=>[o(h,{value:l.record.username,"onUpdate:value":t[1]||(t[1]=c=>l.record.username=c),placeholder:"\u1788\u17D2\u1798\u17C4\u17C7\u1780\u17D2\u1793\u17BB\u1784\u1794\u17D2\u179A\u1796\u17D0\u1793\u17D2\u1792"},null,8,["value"])]),_:1}),o(m,{label:"\u178F\u17D2\u179A\u1780\u17BC\u179B",path:"lastname",class:"w-4/5 mr-8"},{default:r(()=>[o(h,{value:l.record.lastname,"onUpdate:value":t[2]||(t[2]=c=>l.record.lastname=c),placeholder:"\u178F\u17D2\u179A\u1780\u17BC\u179B"},null,8,["value"])]),_:1}),o(m,{label:"\u1788\u17D2\u1798\u17C4\u17C7",path:"firstname",class:"w-4/5 mr-8"},{default:r(()=>[o(h,{value:l.record.firstname,"onUpdate:value":t[3]||(t[3]=c=>l.record.firstname=c),placeholder:"\u1788\u17D2\u1798\u17C4\u17C7"},null,8,["value"])]),_:1}),o(m,{label:"\u1791\u17BC\u179A\u179F\u17D0\u1796\u17D2\u1791",path:"phone",class:"w-4/5 mr-8"},{default:r(()=>[o(h,{value:l.record.phone,"onUpdate:value":t[4]||(t[4]=c=>l.record.phone=c),placeholder:"\u1791\u17BC\u179A\u179F\u17D0\u1796\u17D2\u1791"},null,8,["value"])]),_:1}),o(m,{label:"\u17A2\u17CA\u17B8\u1798\u17C2\u179B",path:"email",class:"w-4/5 mr-8"},{default:r(()=>[o(h,{value:l.record.email,"onUpdate:value":t[5]||(t[5]=c=>l.record.email=c),placeholder:"\u17A2\u17CA\u17B8\u1798\u17C2\u179B"},null,8,["value"])]),_:1})]),_:1},8,["model","rules"]),xl])])])]),_:1},8,["title"])]),_:1},8,["show","on-after-leave"])])}var Ue=T(_l,[["render",yl]]);const kl={name:"User",components:{QrcodeVue:ae,Vue3Barcode:ie,Switcher:de,Add20Regular:ue,Icon:Q,IosCheckmarkCircleOutline:me,CreateForm:$e,IosRefresh:fe,CloseCircleOutline:pe,UpdateForm:Ue,Search20Regular:_e,Edit20Regular:he,Key16Regular:ge,Save20Regular:G,TrashOutline:ve},setup(){var e=K();const t=re(),l=j();var a=$({name:"user",title:"\u1782\u178E\u1793\u17B8"}),s=$({loading:!1,search:"",records:{all:[],matched:[]},columns:{searchable:{username:"",firstname:"",lastname:"",email:"",phone:"",active:""},format:{username:"",firstname:"",lastname:"",email:"",phone:"",active:""}},pagination:{perPage:2,page:1,totalPages:0,totalRecords:0}}),f=$({show:!1,account:null,form:{password:""},rules:{password:{required:!0,message:"\u179F\u17BC\u1798\u1794\u1789\u17D2\u1785\u17BC\u179B\u1796\u17B6\u1780\u17D2\u1799\u179F\u1798\u17D2\u1784\u17B6\u178F\u17CB\u1790\u17D2\u1798\u17B8",trigger:["blur"]}}});function u(b=!0){if(b){if(s.records.matched=[],s.search!=""){for(var d in s.records.all)for(var W in s.records.all[d])if((""+s.records.all[d][W]).includes(s.search)!==!1){s.records.matched.push(s.records.all[d]);break}}s.records.matched.length<=0&&(s.records.matched=s.records.all)}else setTimeout(k(1),500)}function p(){window.clearTimeout(),s.loading=!0,e.dispatch(a.name+"/list",{search:{fields:["username","firstname","lastname","phone","email"],value:s.search},pagination:{perPage:s.pagination.perPage,page:s.pagination.page}}).then(b=>{s.records.all=s.records.matched=b.data.records,s.pagination=b.data.pagination,_()}).catch(b=>{console.log(b)})}function _(){s.loading=!1}function h(){k(s.pagination.page<=1?1:s.pagination.page-1)}function m(){k(s.pagination.page>=s.pagination.totalPages?s.pagination.totalPages:s.pagination.page+1)}function k(b){s.pagination.page=b>s.pagination.totalPages?s.pagination.totalPages:b<1?1:b,p()}function P(b){s.pagination.perPage=b<5?5:b>100?100:perPgae,s.pagination.page=1,p()}function M(b){t.warning({title:"\u1794\u17B7\u1791 \u17AC \u1794\u17BE\u1780 \u1782\u178E\u1793\u17B8",content:"\u178F\u17BE\u17A2\u17D2\u1793\u1780\u1785\u1784\u17CB "+(b.active==1?"\u1794\u17B7\u1791":"\u1794\u17BE\u1780")+" \u1782\u178E\u1793\u17B8\u1793\u17C1\u17C7\u1798\u17C2\u1793\u1791\u17C1 ?",positiveText:"\u1794\u17B6\u1791 / \u1785\u17B6\u179F",negativeText:"\u1791\u17C1",onPositiveClick:()=>{e.dispatch(a.name+"/update",{id:b.id,active:b.active==1?0:1}).then(d=>{switch(d.status){case 200:l.success(d.data.message),p();break}}).catch(d=>{l.error(d)})},onNegativeClick:()=>{}})}var c=$({show:!1});function z(){c.show=!0}function S(){c.show=!1,p()}var y=$({show:!1}),x=$({id:0,username:"",firstname:"",lastname:"",phone:"",email:""});function A(b){x.id=b.id,x.username=b.username,x.firstname=b.firstname,x.lastname=b.lastname,x.phone=b.phone,x.email=b.email,y.show=!0}function q(b){y.show=!1,p()}function U(b){f.account=b,f.form={id:b.id,password:b.password},f.show=!0}function E(b){e.dispatch(a.name+"/passwordChange",{id:b.id,password:b.password}).then(d=>{switch(d.status){case 200:l.success(d.data.message),f.show=!1,f.form={id:0,password:""},p();break}}).catch(d=>{l.error(d)})}function w(b){t.warning({title:"\u179B\u17BB\u1794\u1782\u178E\u1793\u17B8",content:"\u178F\u17BE\u17A2\u17D2\u1793\u1780\u1785\u1784\u17CB \u179B\u17BB\u1794 \u1782\u178E\u1793\u17B8\u1793\u17C1\u17C7\u1798\u17C2\u1793\u1791\u17C1 ?",positiveText:"\u1794\u17B6\u1791 / \u1785\u17B6\u179F",negativeText:"\u1791\u17C1",onPositiveClick:()=>{e.dispatch(a.name+"/delete",{id:b.id}).then(d=>{switch(d.status){case 200:l.success(d.data.message),p();break}}).catch(d=>{l.error(d)})},onNegativeClick:()=>{}})}return p(),{model:a,table:s,changePasswordModal:f,filterRecords:u,updatePerpage:P,goTo:k,previous:h,next:m,closeTableLoading:_,createModal:c,showCreateModal:z,closeCreateModal:S,editModal:y,showEditModal:A,closeEditModal:q,editRecord:x,activateAccount:M,inputPassword:U,changePassword:E,deleteAccount:w}}},Y=e=>(ee("data-v-2aff8382"),e=e(),te(),e),Cl={class:"flex title-bar border-b border-gray-200"},Rl={class:"flex w-64 h-10 py-1 title"},Ml=Y(()=>n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"mt-2 w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),Pl=["innerHTML"],Sl={class:"flex-grow action-buttons flex-row-reverse flex"},$l={class:"mt-1 ml-2"},Ul=R(" \u1794\u1793\u17D2\u1790\u17C2\u1798 "),Tl={class:"w-2/5 relative"},zl=Y(()=>n("div",{class:"filters-bar"},null,-1)),Ll={class:"vcb-table-panel relative"},Al={class:"vcb-table"},ql=Y(()=>n("tr",{class:"vcb-table-headers"},[n("th",{class:"vcb-table-header"},"\u179B.\u179A"),n("th",{class:"vcb-table-header"},"\u178F\u17D2\u179A\u1780\u17BC\u179B"),n("th",{class:"vcb-table-header"},"\u1788\u17D2\u1798\u17C4\u17C7"),n("th",{class:"vcb-table-header"},"\u1788\u17D2\u1798\u17C4\u17C7\u1780\u17D2\u1793\u17BB\u1784\u1794\u17D2\u179A\u1796\u17D0\u1793\u17D2\u1792"),n("th",{class:"vcb-table-header"},"\u179B\u17C1\u1781\u1791\u17BC\u179A\u179F\u17D0\u1796\u17D2\u1791"),n("th",{class:"vcb-table-header"},"\u17A2\u17CA\u17B8\u1798\u17C2\u179B"),n("th",{class:"vcb-table-header text-right"},"\u179F\u17D2\u1790\u17B6\u1793\u1797\u17B6\u1796\u1782\u178E\u1793\u17B8"),n("th",{class:"vcb-table-header text-right w-40"},"\u1794\u17D2\u179A\u178F\u17B7\u1794\u178F\u17D2\u178F\u17B7\u1780\u17B6\u179A")],-1)),Il={class:"vcb-table-cell font-bold"},Hl={class:"vcb-table-cell"},Fl={class:"vcb-table-cell"},Ol={class:"vcb-table-cell"},Bl={class:"vcb-table-cell"},Nl={class:"vcb-table-cell"},jl={class:"vcb-table-cell text-right w-24"},Dl={class:"vcb-table-actions-panel text-right w-40"},El={key:0,class:"table-loading absolute left-0 top-0 right-0 bottom-0 bg-white bg-opacity-75"},Vl={class:"spinner mt-24"},Kl=Y(()=>n("br",null,null,-1)),Gl=Y(()=>n("br",null,null,-1)),Wl=R(" \u1780\u17C6\u1796\u17BB\u1784\u17A2\u17B6\u1793... "),Jl={class:"vcb-table-pagination"},Ql=["onClick"],Yl={class:"vcb-pop-edit font-ktr"},Xl=R(" \u179A\u1780\u17D2\u179F\u17B6\u179A\u1791\u17BB\u1780 "),Zl={class:"crud-create-form w-full border-t"},es={class:"mx-auto p-4 flex-wrap"},ts={class:"crud-form-panel w-full flex flex-wrap"},as=Y(()=>n("div",{class:"w-1/2 h-8"},null,-1));function os(e,t,l,a,s,f){const u=i("Add20Regular"),p=i("n-icon"),_=i("n-button"),h=i("Search20Regular"),m=i("Icon"),k=i("IosCheckmarkCircleOutline"),P=i("Edit20Regular"),M=i("Key16Regular"),c=i("TrashOutline"),z=i("IosRefresh"),S=i("CloseCircleOutline"),y=i("Save20Regular"),x=i("n-input"),A=i("n-form-item"),q=i("n-form"),U=i("n-card"),E=i("n-modal"),w=i("create-form"),b=i("update-form");return g(),v("div",null,[n("div",Cl,[n("div",Rl,[Ml,n("div",{class:"leading-8 font-bold",innerHTML:a.model.title},null,8,Pl)]),n("div",Sl,[n("div",$l,[o(_,{type:"success",onClick:t[0]||(t[0]=d=>a.showCreateModal())},{icon:r(()=>[o(p,null,{default:r(()=>[o(u)]),_:1})]),default:r(()=>[Ul]),_:1})]),n("div",Tl,[Ce(n("input",{type:"text",onKeypress:t[1]||(t[1]=Z(d=>a.filterRecords(!1),["enter"])),"onUpdate:modelValue":t[2]||(t[2]=d=>a.table.search=d),class:"bg-gray-100 px-2 h-9 my-1 w-full rounded border border-gray-200 focus:border-blue-600 hover:border-blue-600",placeholder:"\u179F\u17D2\u179C\u17C2\u1784\u179A\u1780"},null,544),[[Re,a.table.search]]),o(m,{size:"27",class:"absolute right-1 top-2 text-gray-400 hover:text-blue-700 cursor-pointer",onClick:t[3]||(t[3]=d=>a.filterRecords(!1))},{default:r(()=>[o(p,null,{default:r(()=>[o(h)]),_:1})]),_:1})])]),zl]),n("div",Ll,[n("table",Al,[ql,(g(!0),v(O,null,B(a.table.records.matched,(d,W)=>(g(),v("tr",{key:W,class:"vcb-table-row"},[n("td",Il,C(W+1),1),n("td",Hl,C(d.lastname),1),n("td",Fl,C(d.firstname),1),n("td",Ol,C(d.username),1),n("td",Bl,C(d.phone),1),n("td",Nl,C(d.email),1),n("td",jl,[o(p,{size:"30",class:ce("cursor-pointer "+(d.active==1?" text-green-500 ":" text-gray-500 ")),onClick:J=>a.activateAccount(d),title:d.active==1?"\u1782\u178E\u1793\u17B8\u1793\u17C1\u17C7\u1780\u17C6\u1796\u17BB\u1784\u1794\u17BE\u1780\u178F\u17C6\u178E\u17BE\u179A\u1780\u17B6\u179A":"\u1782\u178E\u1793\u17B8\u1793\u17C1\u17C7\u1780\u17C6\u1796\u17BB\u1784\u178F\u17D2\u179A\u17BC\u179C\u1794\u17B6\u1793\u1794\u17B7\u1791\u1798\u17B7\u1793\u17A2\u17B6\u1785\u1794\u17D2\u179A\u17BE\u1794\u17D2\u179A\u17B6\u179F\u17CB\u1794\u17B6\u1793"},{default:r(()=>[o(k)]),_:2},1032,["class","onClick","title"])]),n("td",Dl,[o(p,{size:"30",class:"cursor-pointer text-blue-500",onClick:J=>a.showEditModal(d),title:"\u1780\u17C2\u1794\u17D2\u179A\u17C2\u1796\u17D0\u178F\u17CC\u1798\u17B6\u1793"},{default:r(()=>[o(P)]),_:2},1032,["onClick"]),o(p,{size:"30",class:"cursor-pointer text-yellow-500",onClick:J=>a.inputPassword(d),title:"\u1794\u17D2\u178A\u17BC\u179A\u1796\u17B6\u1780\u17D2\u1799\u179F\u1798\u17D2\u1784\u17B6\u178F\u17CB\u179F\u1798\u17D2\u179A\u17B6\u1794\u17CB\u1782\u178E\u1793\u17B8\u1793\u17C1\u17C7"},{default:r(()=>[o(M)]),_:2},1032,["onClick"]),o(p,{size:"30",class:"cursor-pointer text-red-500",onClick:J=>a.deleteAccount(d),title:"\u179B\u17BB\u1794\u1782\u178E\u1793\u17B8\u1793\u17C1\u17C7\u1785\u17C4\u179B"},{default:r(()=>[o(c)]),_:2},1032,["onClick"])])]))),128))]),a.table.loading?(g(),v("div",El,[n("div",Vl,[o(m,{size:"40",class:"animate-spin text-blue-500"},{default:r(()=>[o(z)]),_:1}),Kl,Gl,Wl]),n("div",{class:"absolute top-3 right-3",onClick:t[4]||(t[4]=(...d)=>a.closeTableLoading&&a.closeTableLoading(...d))},[o(m,{size:"40",class:"text-red-600"},{default:r(()=>[o(S)]),_:1})])])):V("",!0)]),n("div",Jl,[n("div",{class:"vcb-pagination-page",innerHTML:"<",onClick:t[5]||(t[5]=d=>a.previous())}),(g(!0),v(O,null,B(a.table.pagination.totalPages,d=>(g(),v("div",{key:d,class:"vcb-pagination-page",onClick:W=>a.goTo(d)},C(d),9,Ql))),128)),n("div",{class:"vcb-pagination-page",innerHTML:">",onClick:t[6]||(t[6]=d=>a.next())})]),n("div",Yl,[o(E,{show:a.changePasswordModal.show,"onUpdate:show":t[9]||(t[9]=d=>a.changePasswordModal.show=d),"transform-origin":"center"},{default:r(()=>[o(U,{class:"w-1/2 font-pvh text-xl",title:"\u1794\u17D2\u178A\u17BC\u179A\u1796\u17B6\u1780\u17D2\u1799\u179F\u1798\u17D2\u1784\u17B6\u178F\u17CB",bordered:!1,size:"small"},{"header-extra":r(()=>[o(_,{type:"success",onClick:t[7]||(t[7]=d=>a.changePassword(a.changePasswordModal.form))},{icon:r(()=>[o(p,null,{default:r(()=>[o(y)]),_:1})]),default:r(()=>[Xl]),_:1})]),footer:r(()=>[]),default:r(()=>[n("div",Zl,[n("div",es,[n("div",ts,[o(q,{class:"w-full text-left font-btb text-lg flex flex-wrap","label-width":80,model:a.changePasswordModal.form,rules:a.changePasswordModal.rules,size:"large",ref:"formRef"},{default:r(()=>[o(A,{label:"\u1796\u17B6\u1780\u17D2\u1799\u179F\u1798\u17D2\u1784\u17B6\u178F\u17CB\u1790\u17D2\u1798\u17B8",path:"password",class:"w-2/5 mr-8"},{default:r(()=>[o(x,{value:a.changePasswordModal.form.password,"onUpdate:value":t[8]||(t[8]=d=>a.changePasswordModal.form.password=d),placeholder:"\u1796\u17B6\u1780\u17D2\u1799\u179F\u1798\u17D2\u1784\u17B6\u178F\u17CB\u1790\u17D2\u1798\u17B8"},null,8,["value"])]),_:1})]),_:1},8,["model","rules"]),as])])])]),_:1})]),_:1},8,["show"])]),o(w,{model:a.model,show:a.createModal.show,onClose:a.closeCreateModal},null,8,["model","show","onClose"]),o(b,{model:a.model,record:a.editRecord,show:a.editModal.show,onClose:a.closeEditModal},null,8,["model","record","show","onClose"])])}var ns=T(kl,[["render",os],["__scopeId","data-v-2aff8382"]]);const ls={components:{Save20Regular:G},props:{model:{type:Object,required:!0,default:()=>$({name:"Undefined",title:"No title"})},show:{type:Boolean,default:!1},onClose:{type:Function}},setup(e){var t=K();const l=j();var a=$({lastname:"",firstname:"",phone:"",email:"",address:""}),s={firstname:{required:!0,message:"\u179F\u17BC\u1798\u1794\u1789\u17D2\u1785\u17BC\u179B\u1788\u17D2\u1798\u17C4\u17C7",trigger:["blur"]},lastname:{required:!0,message:"\u179F\u17BC\u1798\u1794\u1789\u17D2\u1785\u17BC\u179B\u178F\u17D2\u179A\u1780\u17BC\u179B",trigger:["blur"]}};function f(){a.lastname="",a.firstname="",a.phone="",a.email="",a.address=""}function u(){e.show=!1,e.onClose()}function p(){if(a.firstname==""||a.lastname=="")return l.warning("\u179F\u17BC\u1798\u1794\u17C6\u1796\u17C1\u1789 \u178F\u17D2\u179A\u1780\u17BC\u179B \u1793\u17B7\u1784 \u1788\u17D2\u1798\u17C4\u17C7"),!1;if(e.model===void 0||e.model.name=="")return l.warning("\u1791\u1798\u17D2\u179A\u1784\u17CB\u1793\u17C3\u1796\u17D0\u178F\u17CC\u1798\u17B6\u1793\u1798\u17B7\u1793\u1791\u17B6\u1793\u17CB\u1794\u17B6\u1793\u1780\u17C6\u178E\u178F\u17CB\u17D4"),!1;t.dispatch(e.model.name+"/create",{firstname:a.firstname,lastname:a.lastname,phone:a.phone,email:a.email,address:a.address}).then(_=>{switch(_.status){case 200:l.success(_.data.message),f(),u();break}}).catch(_=>{l.error(_)})}return{rules:s,record:a,create:p}}},ss={class:"vcb-pop-create font-ktr"},rs=R(" \u179A\u1780\u17D2\u179F\u17B6\u179A\u1791\u17BB\u1780 "),is={class:"crud-create-form w-full border-t"},ds={class:"mx-auto p-4 flex-wrap"},cs={class:"crud-form-panel w-full flex flex-wrap"},us=n("div",{class:"w-1/2 h-8"},null,-1);function ms(e,t,l,a,s,f){const u=i("Save20Regular"),p=i("n-icon"),_=i("n-button"),h=i("n-input"),m=i("n-form-item"),k=i("n-form"),P=i("n-card"),M=i("n-modal");return g(),v("div",ss,[o(M,{show:l.show,"onUpdate:show":t[6]||(t[6]=c=>l.show=c),"on-after-leave":l.onClose,"transform-origin":"center"},{default:r(()=>[o(P,{class:"w-1/2 font-pvh text-xl",title:"\u1794\u1793\u17D2\u1790\u17C2\u1798\u1796\u17D0\u178F\u17CC\u1798\u17B6\u1793 "+l.model.title,bordered:!1,size:"small"},{"header-extra":r(()=>[o(_,{type:"success",onClick:t[0]||(t[0]=c=>a.create())},{icon:r(()=>[o(p,null,{default:r(()=>[o(u)]),_:1})]),default:r(()=>[rs]),_:1})]),footer:r(()=>[]),default:r(()=>[n("div",is,[n("div",ds,[n("div",cs,[o(k,{class:"w-full text-left font-btb text-lg flex flex-wrap","label-width":80,model:a.record,rules:a.rules,size:"large",ref:"formRef"},{default:r(()=>[o(m,{label:"\u178F\u17D2\u179A\u1780\u17BC\u179B",path:"lastname",class:"w-4/5 mr-8"},{default:r(()=>[o(h,{value:a.record.lastname,"onUpdate:value":t[1]||(t[1]=c=>a.record.lastname=c),placeholder:"\u178F\u17D2\u179A\u1780\u17BC\u179B"},null,8,["value"])]),_:1}),o(m,{label:"\u1788\u17D2\u1798\u17C4\u17C7",path:"firstname",class:"w-4/5 mr-8"},{default:r(()=>[o(h,{value:a.record.firstname,"onUpdate:value":t[2]||(t[2]=c=>a.record.firstname=c),placeholder:"\u1788\u17D2\u1798\u17C4\u17C7"},null,8,["value"])]),_:1}),o(m,{label:"\u1791\u17BC\u179A\u179F\u17D0\u1796\u17D2\u1791",path:"phone",class:"w-4/5 mr-8"},{default:r(()=>[o(h,{value:a.record.phone,"onUpdate:value":t[3]||(t[3]=c=>a.record.phone=c),placeholder:"\u1791\u17BC\u179A\u179F\u17D0\u1796\u17D2\u1791"},null,8,["value"])]),_:1}),o(m,{label:"\u17A2\u17CA\u17B8\u1798\u17C2\u179B",path:"email",class:"w-4/5 mr-8"},{default:r(()=>[o(h,{value:a.record.email,"onUpdate:value":t[4]||(t[4]=c=>a.record.email=c),placeholder:"\u17A2\u17CA\u17B8\u1798\u17C2\u179B"},null,8,["value"])]),_:1}),o(m,{label:"\u17A2\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793",path:"address",class:"w-4/5 mr-8"},{default:r(()=>[o(h,{value:a.record.address,"onUpdate:value":t[5]||(t[5]=c=>a.record.address=c),placeholder:"\u17A2\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793"},null,8,["value"])]),_:1})]),_:1},8,["model","rules"]),us])])])]),_:1},8,["title"])]),_:1},8,["show","on-after-leave"])])}var fs=T(ls,[["render",ms]]);const ps={components:{Save20Regular:G},props:{model:{type:Object,required:!0,default:()=>$({name:"Undefined",title:"No title"})},record:{type:Object,required:!0},show:{type:Boolean,default:!1},onClose:{type:Function}},watch:{record:function(e,t){console.log("Record : "),console.log(e)}},setup(e){var t=K();const l=j();var a={firstname:{required:!0,message:"\u179F\u17BC\u1798\u1794\u1789\u17D2\u1785\u17BC\u179B\u1788\u17D2\u1798\u17C4\u17C7",trigger:["blur"]},lastname:{required:!0,message:"\u179F\u17BC\u1798\u1794\u1789\u17D2\u1785\u17BC\u179B\u178F\u17D2\u179A\u1780\u17BC\u179B",trigger:["blur"]}};function s(){e.record.id=0,e.record.address="",e.record.firstname="",e.record.lastname="",e.record.phone="",e.record.email=""}function f(){if(e.record.firstname==""||e.record.lastname=="")return l.warning("\u179F\u17BC\u1798\u1794\u17C6\u1796\u17C1\u1789 \u178F\u17D2\u179A\u1780\u17BC\u179B \u1788\u17D2\u1798\u17C4\u17C7"),!1;if(e.model===void 0||e.model.name=="")return l.warning("\u1791\u1798\u17D2\u179A\u1784\u17CB\u1793\u17C3\u1796\u17D0\u178F\u17CC\u1798\u17B6\u1793\u1798\u17B7\u1793\u1791\u17B6\u1793\u17CB\u1794\u17B6\u1793\u1780\u17C6\u178E\u178F\u17CB\u17D4"),!1;t.dispatch(e.model.name+"/update",{id:e.record.id,address:e.record.address,firstname:e.record.firstname,lastname:e.record.lastname,phone:e.record.phone,email:e.record.email}).then(p=>{switch(p.status){case 200:l.success(p.data.message),s(),u();break}}).catch(p=>{l.error(p)})}function u(){e.show=!1,e.onClose()}return{rules:a,update:f}}},_s={class:"vcb-pop-create font-ktr"},hs=R(" \u179A\u1780\u17D2\u179F\u17B6\u179A\u1791\u17BB\u1780 "),gs={class:"crud-create-form w-full border-t"},vs={class:"mx-auto p-4 flex-wrap"},bs={class:"crud-form-panel w-full flex flex-wrap"},ws=n("div",{class:"w-1/2 h-8"},null,-1);function xs(e,t,l,a,s,f){const u=i("Save20Regular"),p=i("n-icon"),_=i("n-button"),h=i("n-input"),m=i("n-form-item"),k=i("n-form"),P=i("n-card"),M=i("n-modal");return g(),v("div",_s,[o(M,{show:l.show,"onUpdate:show":t[6]||(t[6]=c=>l.show=c),"on-after-leave":l.onClose,"transform-origin":"center"},{default:r(()=>[o(P,{class:"w-1/2 font-pvh text-xl",title:"\u1780\u17C2\u1794\u17D2\u179A\u17C2\u1796\u17D0\u178F\u17CC\u1798\u17B6\u1793 "+l.model.title,bordered:!1,size:"small"},{"header-extra":r(()=>[o(_,{type:"success",onClick:t[0]||(t[0]=c=>a.update())},{icon:r(()=>[o(p,null,{default:r(()=>[o(u)]),_:1})]),default:r(()=>[hs]),_:1})]),footer:r(()=>[]),default:r(()=>[n("div",gs,[n("div",vs,[n("div",bs,[o(k,{class:"w-full text-left font-btb text-lg flex flex-wrap","label-width":80,model:l.record,rules:a.rules,size:"large",ref:"formRef"},{default:r(()=>[o(m,{label:"\u178F\u17D2\u179A\u1780\u17BC\u179B",path:"lastname",class:"w-4/5 mr-8"},{default:r(()=>[o(h,{value:l.record.lastname,"onUpdate:value":t[1]||(t[1]=c=>l.record.lastname=c),placeholder:"\u178F\u17D2\u179A\u1780\u17BC\u179B"},null,8,["value"])]),_:1}),o(m,{label:"\u1788\u17D2\u1798\u17C4\u17C7",path:"firstname",class:"w-4/5 mr-8"},{default:r(()=>[o(h,{value:l.record.firstname,"onUpdate:value":t[2]||(t[2]=c=>l.record.firstname=c),placeholder:"\u1788\u17D2\u1798\u17C4\u17C7"},null,8,["value"])]),_:1}),o(m,{label:"\u1791\u17BC\u179A\u179F\u17D0\u1796\u17D2\u1791",path:"phone",class:"w-4/5 mr-8"},{default:r(()=>[o(h,{value:l.record.phone,"onUpdate:value":t[3]||(t[3]=c=>l.record.phone=c),placeholder:"\u1791\u17BC\u179A\u179F\u17D0\u1796\u17D2\u1791"},null,8,["value"])]),_:1}),o(m,{label:"\u17A2\u17CA\u17B8\u1798\u17C2\u179B",path:"email",class:"w-4/5 mr-8"},{default:r(()=>[o(h,{value:l.record.email,"onUpdate:value":t[4]||(t[4]=c=>l.record.email=c),placeholder:"\u17A2\u17CA\u17B8\u1798\u17C2\u179B"},null,8,["value"])]),_:1}),o(m,{label:"\u17A2\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793",path:"address",class:"w-4/5 mr-8"},{default:r(()=>[o(h,{value:l.record.address,"onUpdate:value":t[5]||(t[5]=c=>l.record.address=c),placeholder:"\u17A2\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793"},null,8,["value"])]),_:1})]),_:1},8,["model","rules"]),ws])])])]),_:1},8,["title"])]),_:1},8,["show","on-after-leave"])])}var ys=T(ps,[["render",xs]]);const ks={props:{model:{type:Object,required:!0},columns:{type:Array,required:!0},searchable:{type:Array,required:!0},show:{type:Boolean,default:!1},perPage:{type:Number,default:5},onShow:{type:Function,default:()=>{}},onClose:{type:Function,default:()=>{}}},name:"ListComponent",components:{QrcodeVue:ae,Vue3Barcode:ie,Switcher:de,Add20Regular:ue,Icon:Q,IosCheckmarkCircleOutline:me,CreateForm:fs,IosRefresh:fe,CloseCircleOutline:pe,UpdateForm:ys,Search20Regular:_e,Edit20Regular:he,Key16Regular:ge,Save20Regular:G,TrashOutline:ve},setup(e){var t=K();const l=re(),a=j();var s=$({loading:!1,search:"",records:{all:[],matched:[]},columns:{searchable:e.searchable,format:e.columns},pagination:{perPage:e.perPage,page:1,totalPages:0,totalRecords:0}});function f(w=!0){if(w){if(s.records.matched=[],s.search!=""){for(var b in s.records.all)for(var d in s.records.all[b])if((""+s.records.all[b][d]).includes(s.search)!==!1){s.records.matched.push(s.records.all[b]);break}}s.records.matched.length<=0&&(s.records.matched=s.records.all)}else setTimeout(m(1),500)}function u(){Array.isArray(s.columns.format)&&Array.isArray(s.columns.searchable)&&s.columns.format.length>0&&s.columns.searchable.length>0?(window.clearTimeout(),s.loading=!0,t.dispatch(e.model.name+"/list",{columns:s.columns.format,search:{fields:s.columns.searchable,value:s.search},pagination:{perPage:s.pagination.perPage,page:s.pagination.page}}).then(w=>{s.records.all=s.records.matched=w.data.records,s.pagination=w.data.pagination,p()}).catch(w=>{console.log(w)})):a.error("\u179F\u17BC\u1798\u1794\u1789\u17D2\u1787\u17B6\u1780\u17CB\u17A2\u17C6\u1796\u17B8\u1788\u17D2\u1798\u17C4\u17C7\u1780\u17D2\u1794\u17B6\u179B\u1787\u17BD\u179A\u1788\u179A \u1793\u17C3\u178F\u17B6\u179A\u17B6\u1784\u17D4")}function p(){s.loading=!1}function _(){m(s.pagination.page<=1?1:s.pagination.page-1)}function h(){m(s.pagination.page>=s.pagination.totalPages?s.pagination.totalPages:s.pagination.page+1)}function m(w){s.pagination.page=w>s.pagination.totalPages?s.pagination.totalPages:w<1?1:w,u()}function k(w){s.pagination.perPage=w<5?5:w>100?100:perPgae,s.pagination.page=1,u()}function P(w){l.warning({title:"\u179B\u17BB\u1794\u1796\u17D0\u178F\u17CC\u1798\u17B6\u1793",content:"\u178F\u17BE\u17A2\u17D2\u1793\u1780\u1785\u1784\u17CB \u179B\u17BB\u1794 \u1796\u17D0\u178F\u17CC\u1798\u17B6\u1793\u1793\u17C1\u17C7\u1798\u17C2\u1793\u1791\u17C1 ?",positiveText:"\u1794\u17B6\u1791 / \u1785\u17B6\u179F",negativeText:"\u1791\u17C1",onPositiveClick:()=>{t.dispatch(e.model.name+"/delete",{id:w.id}).then(b=>{switch(b.status){case 200:a.success(b.data.message),u();break}}).catch(b=>{a.error(b)})},onNegativeClick:()=>{}})}var M=$({show:!1});function c(){M.show=!0}function z(){M.show=!1,u()}var S=$({show:!1}),y=$({id:0,firstname:"",lastname:"",phone:"",email:"",address:""});function x(w){y.id=w.id,y.firstname=w.firstname,y.lastname=w.lastname,y.phone=w.phone,y.email=w.email,y.address=w.address,S.show=!0}function A(w){S.show=!1,u()}function q(){}var U=I(!!e.show);function E(){U.value=!U.value,U.value?e.onShow():e.onClose()}return u(),U.value?e.onShow():e.onClose(),console.log(U.value),{table:s,toggle:E,listShow:U,clearRecord:q,filterRecords:f,updatePerpage:k,goTo:m,previous:_,next:h,closeTableLoading:p,createModal:M,showCreateModal:c,closeCreateModal:z,editModal:S,showEditModal:x,closeEditModal:A,editRecord:y,deleteRecord:P}}},oe=e=>(ee("data-v-483d3982"),e=e(),te(),e),Cs={key:0},Rs={class:"flex title-bar border-b border-gray-200"},Ms={class:"flex w-64 h-10 py-1 title"},Ps=oe(()=>n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"mt-2 w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),Ss=["innerHTML"],$s={class:"flex-grow action-buttons flex-row-reverse flex"},Us={class:"mt-1 ml-2"},Ts=R(" \u1794\u1793\u17D2\u1790\u17C2\u1798 "),zs={class:"w-2/5 relative"},Ls=oe(()=>n("div",{class:"filters-bar"},null,-1)),As={class:"vcb-table-panel relative"},qs={class:"vcb-table"},Is={class:"vcb-table-headers"},Hs=oe(()=>n("th",{class:"vcb-table-header text-right w-40"},"\u1794\u17D2\u179A\u178F\u17B7\u1794\u178F\u17D2\u178F\u17B7\u1780\u17B6\u179A",-1)),Fs=["innerHTML"],Os={class:"vcb-table-actions-panel text-right w-40"},Bs={key:0,class:"table-loading absolute left-0 top-0 right-0 bottom-0 bg-white bg-opacity-75"},Ns={class:"spinner mt-24"},js=oe(()=>n("br",null,null,-1)),Ds=oe(()=>n("br",null,null,-1)),Es=R(" \u1780\u17C6\u1796\u17BB\u1784\u17A2\u17B6\u1793... "),Vs={class:"vcb-table-pagination"},Ks=["onClick"];function Gs(e,t,l,a,s,f){const u=i("Add20Regular"),p=i("n-icon"),_=i("n-button"),h=i("Search20Regular"),m=i("n-input"),k=i("Edit20Regular"),P=i("TrashOutline"),M=i("IosRefresh"),c=i("Icon"),z=i("CloseCircleOutline"),S=i("create-form"),y=i("update-form");return g(),v("div",Cs,[n("div",Rs,[n("div",Ms,[Ps,n("div",{class:"leading-8 font-bold",innerHTML:"\u1796\u17D0\u178F\u17CC\u1798\u17B6\u1793 "+l.model.title},null,8,Ss)]),n("div",$s,[n("div",Us,[o(_,{type:"success",onClick:t[0]||(t[0]=x=>a.showCreateModal())},{icon:r(()=>[o(p,null,{default:r(()=>[o(u)]),_:1})]),default:r(()=>[Ts]),_:1})]),n("div",zs,[o(m,{type:"text",onKeyup:t[1]||(t[1]=Z(x=>a.filterRecords(!1),["enter"])),value:a.table.search,"onUpdate:value":t[2]||(t[2]=x=>a.table.search=x),clearable:"",onClear:t[3]||(t[3]=x=>{a.table.search="",a.filterRecords(!1)}),class:"bg-gray-100 px-2 h-9 my-1 w-full",placeholder:"\u179F\u17D2\u179C\u17C2\u1784\u179A\u1780"},{prefix:r(()=>[o(p,null,{default:r(()=>[o(h)]),_:1})]),_:1},8,["value"])])]),Ls]),n("div",As,[n("table",qs,[n("tr",Is,[(g(!0),v(O,null,B(a.table.columns.format,(x,A)=>(g(),v("th",{key:A,class:"vcb-table-header"},C(x.label),1))),128)),Hs]),(g(!0),v(O,null,B(a.table.records.matched,(x,A)=>(g(),v("tr",{key:A,class:"vcb-table-row"},[(g(!0),v(O,null,B(a.table.columns.format,(q,U)=>(g(),v("td",{key:U,class:"vcb-table-cell",innerHTML:x[q.field]},null,8,Fs))),128)),n("td",Os,[o(p,{size:"30",class:"cursor-pointer text-blue-500",onClick:q=>a.showEditModal(x),title:"\u1780\u17C2\u1794\u17D2\u179A\u17C2\u1796\u17D0\u178F\u17CC\u1798\u17B6\u1793"},{default:r(()=>[o(k)]),_:2},1032,["onClick"]),o(p,{size:"30",class:"cursor-pointer text-red-500",onClick:q=>a.deleteRecord(x),title:"\u179B\u17BB\u1794\u1785\u17C4\u179B"},{default:r(()=>[o(P)]),_:2},1032,["onClick"])])]))),128))]),a.table.loading?(g(),v("div",Bs,[n("div",Ns,[o(c,{size:"40",class:"animate-spin text-blue-500"},{default:r(()=>[o(M)]),_:1}),js,Ds,Es]),n("div",{class:"absolute top-3 right-3",onClick:t[4]||(t[4]=(...x)=>a.closeTableLoading&&a.closeTableLoading(...x))},[o(c,{size:"40",class:"text-gray-400"},{default:r(()=>[o(z)]),_:1})])])):V("",!0)]),n("div",Vs,[n("div",{class:"vcb-pagination-page",innerHTML:"<",onClick:t[5]||(t[5]=x=>a.previous())}),(g(!0),v(O,null,B(a.table.pagination.totalPages,x=>(g(),v("div",{key:x,class:"vcb-pagination-page",onClick:A=>a.goTo(x)},C(x),9,Ks))),128)),n("div",{class:"vcb-pagination-page",innerHTML:">",onClick:t[6]||(t[6]=x=>a.next())})]),o(S,{model:l.model,show:a.createModal.show,onClose:a.closeCreateModal},null,8,["model","show","onClose"]),o(y,{model:l.model,record:a.editRecord,show:a.editModal.show,onClose:a.closeEditModal},null,8,["model","record","show","onClose"])])}var Ws=T(ks,[["render",Gs],["__scopeId","data-v-483d3982"]]);const Js={name:"Client",components:{ListForm:Ws},setup(){const e=$({name:"client",title:"\u17A2\u178F\u17B7\u1790\u17B7\u1787\u1793"}),t=I([{field:"id",label:"\u179B\u17C1\u1781\u179F\u1798\u17D2\u1782\u17B6\u179B\u17CB"},{field:"lastname",label:"\u178F\u17D2\u179A\u1780\u17BC\u179B"},{field:"firstname",label:"\u1788\u17D2\u1798\u17C4\u17C7"},{field:"phone",label:"\u1791\u17BC\u179A\u179F\u17D0\u1796\u17D2\u1791"},{field:"email",label:"\u17A2\u17CA\u17B8\u1798\u17C2\u179B"},{field:"address",label:"\u17A2\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793"}]),l=I(["firstname","lastname","phone","email","address"]);return{model:e,columns:t,searchable:l}}},Qs={class:"w-full"};function Ys(e,t,l,a,s,f){const u=i("list-form");return g(),v("div",Qs,[o(u,{show:!0,model:a.model,columns:a.columns,searchable:a.searchable,perPage:20},null,8,["model","columns","searchable"])])}var Xs=T(Js,[["render",Ys]]);const Zs={components:{Save20Regular:G},props:{model:{type:Object,required:!0,default:()=>$({name:"Undefined",title:"No title"})},show:{type:Boolean,default:!1},onClose:{type:Function}},setup(e){var t=K();const l=j();var a=$({lastname:"",firstname:"",phone:"",email:"",salary:0,address:""}),s={firstname:{required:!0,message:"\u179F\u17BC\u1798\u1794\u1789\u17D2\u1785\u17BC\u179B\u1788\u17D2\u1798\u17C4\u17C7",trigger:["blur"]},lastname:{required:!0,message:"\u179F\u17BC\u1798\u1794\u1789\u17D2\u1785\u17BC\u179B\u178F\u17D2\u179A\u1780\u17BC\u179B",trigger:["blur"]},salary:{required:!0,message:"\u179F\u17BC\u1798\u1794\u1789\u17D2\u1787\u17B6\u1780\u17CB\u1794\u17D2\u179A\u17B6\u1780\u17CB\u1781\u17C2",trigger:["blur"]}};function f(){a.lastname="",a.firstname="",a.phone="",a.email="",a.salary="",a.address=""}function u(){e.show=!1,e.onClose()}function p(){if(a.firstname==""||a.lastname==""||a.salary=="")return l.warning("\u179F\u17BC\u1798\u1794\u17C6\u1796\u17C1\u1789 \u178F\u17D2\u179A\u1780\u17BC\u179B \u1793\u17B7\u1784 \u1788\u17D2\u1798\u17C4\u17C7 \u1793\u17B7\u1784 \u1794\u17D2\u179A\u17B6\u1780\u17CB\u1781\u17C2"),!1;if(e.model===void 0||e.model.name=="")return l.warning("\u1791\u1798\u17D2\u179A\u1784\u17CB\u1793\u17C3\u1796\u17D0\u178F\u17CC\u1798\u17B6\u1793\u1798\u17B7\u1793\u1791\u17B6\u1793\u17CB\u1794\u17B6\u1793\u1780\u17C6\u178E\u178F\u17CB\u17D4"),!1;t.dispatch(e.model.name+"/create",{firstname:a.firstname,lastname:a.lastname,phone:a.phone,email:a.email,salary:a.salary,address:a.address}).then(_=>{switch(_.status){case 200:l.success(_.data.message),f(),u();break}}).catch(_=>{l.error(_)})}return{rules:s,record:a,create:p}}},er={class:"vcb-pop-create font-ktr"},tr=R(" \u179A\u1780\u17D2\u179F\u17B6\u179A\u1791\u17BB\u1780 "),ar={class:"crud-create-form w-full border-t"},or={class:"mx-auto p-4 flex-wrap"},nr={class:"crud-form-panel w-full flex flex-wrap"},lr=n("div",{class:"w-1/2 h-8"},null,-1);function sr(e,t,l,a,s,f){const u=i("Save20Regular"),p=i("n-icon"),_=i("n-button"),h=i("n-input"),m=i("n-form-item"),k=i("n-form"),P=i("n-card"),M=i("n-modal");return g(),v("div",er,[o(M,{show:l.show,"onUpdate:show":t[7]||(t[7]=c=>l.show=c),"on-after-leave":l.onClose,"transform-origin":"center"},{default:r(()=>[o(P,{class:"w-1/2 font-pvh text-xl",title:"\u1794\u1793\u17D2\u1790\u17C2\u1798\u1796\u17D0\u178F\u17CC\u1798\u17B6\u1793 "+l.model.title,bordered:!1,size:"small"},{"header-extra":r(()=>[o(_,{type:"success",onClick:t[0]||(t[0]=c=>a.create())},{icon:r(()=>[o(p,null,{default:r(()=>[o(u)]),_:1})]),default:r(()=>[tr]),_:1})]),footer:r(()=>[]),default:r(()=>[n("div",ar,[n("div",or,[n("div",nr,[o(k,{class:"w-full text-left font-btb text-lg flex flex-wrap","label-width":80,model:a.record,rules:a.rules,size:"large",ref:"formRef"},{default:r(()=>[o(m,{label:"\u178F\u17D2\u179A\u1780\u17BC\u179B",path:"lastname",class:"w-4/5 mr-8"},{default:r(()=>[o(h,{value:a.record.lastname,"onUpdate:value":t[1]||(t[1]=c=>a.record.lastname=c),placeholder:"\u178F\u17D2\u179A\u1780\u17BC\u179B"},null,8,["value"])]),_:1}),o(m,{label:"\u1788\u17D2\u1798\u17C4\u17C7",path:"firstname",class:"w-4/5 mr-8"},{default:r(()=>[o(h,{value:a.record.firstname,"onUpdate:value":t[2]||(t[2]=c=>a.record.firstname=c),placeholder:"\u1788\u17D2\u1798\u17C4\u17C7"},null,8,["value"])]),_:1}),o(m,{label:"\u1791\u17BC\u179A\u179F\u17D0\u1796\u17D2\u1791",path:"phone",class:"w-4/5 mr-8"},{default:r(()=>[o(h,{value:a.record.phone,"onUpdate:value":t[3]||(t[3]=c=>a.record.phone=c),placeholder:"\u1791\u17BC\u179A\u179F\u17D0\u1796\u17D2\u1791"},null,8,["value"])]),_:1}),o(m,{label:"\u17A2\u17CA\u17B8\u1798\u17C2\u179B",path:"email",class:"w-4/5 mr-8"},{default:r(()=>[o(h,{value:a.record.email,"onUpdate:value":t[4]||(t[4]=c=>a.record.email=c),placeholder:"\u17A2\u17CA\u17B8\u1798\u17C2\u179B"},null,8,["value"])]),_:1}),o(m,{label:"\u1794\u17D2\u179A\u17B6\u1780\u17CB\u1781\u17C2",path:"salary",class:"w-4/5 mr-8"},{default:r(()=>[o(h,{value:a.record.salary,"onUpdate:value":t[5]||(t[5]=c=>a.record.salary=c),placeholder:"\u1794\u17D2\u179A\u17B6\u1780\u17CB\u1781\u17C2"},null,8,["value"])]),_:1}),o(m,{label:"\u17A2\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793",path:"address",class:"w-4/5 mr-8"},{default:r(()=>[o(h,{value:a.record.address,"onUpdate:value":t[6]||(t[6]=c=>a.record.address=c),placeholder:"\u17A2\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793"},null,8,["value"])]),_:1})]),_:1},8,["model","rules"]),lr])])])]),_:1},8,["title"])]),_:1},8,["show","on-after-leave"])])}var rr=T(Zs,[["render",sr]]);const ir={components:{Save20Regular:G},props:{model:{type:Object,required:!0,default:()=>$({name:"Undefined",title:"No title"})},record:{type:Object,required:!0},show:{type:Boolean,default:!1},onClose:{type:Function}},watch:{record:function(e,t){console.log("Record : "),console.log(e)}},setup(e){var t=K();const l=j();var a={firstname:{required:!0,message:"\u179F\u17BC\u1798\u1794\u1789\u17D2\u1785\u17BC\u179B\u1788\u17D2\u1798\u17C4\u17C7",trigger:["blur"]},lastname:{required:!0,message:"\u179F\u17BC\u1798\u1794\u1789\u17D2\u1785\u17BC\u179B\u178F\u17D2\u179A\u1780\u17BC\u179B",trigger:["blur"]},salary:{required:!0,message:"\u179F\u17BC\u1798\u1794\u1789\u17D2\u1787\u17B6\u1780\u17CB\u1794\u17D2\u179A\u17B6\u1780\u17CB\u1781\u17C2",trigger:["blur"]}};function s(){e.record.id=0,e.record.address="",e.record.firstname="",e.record.lastname="",e.record.phone="",e.record.salary=0,e.record.email=""}function f(){if(e.record.firstname==""||e.record.lastname==""||e.record.salary=="")return l.warning("\u179F\u17BC\u1798\u1794\u17C6\u1796\u17C1\u1789 \u178F\u17D2\u179A\u1780\u17BC\u179B \u1788\u17D2\u1798\u17C4\u17C7 \u1794\u17D2\u179A\u17B6\u1780\u17CB\u1781\u17C2"),!1;if(e.model===void 0||e.model.name=="")return l.warning("\u1791\u1798\u17D2\u179A\u1784\u17CB\u1793\u17C3\u1796\u17D0\u178F\u17CC\u1798\u17B6\u1793\u1798\u17B7\u1793\u1791\u17B6\u1793\u17CB\u1794\u17B6\u1793\u1780\u17C6\u178E\u178F\u17CB\u17D4"),!1;t.dispatch(e.model.name+"/update",{id:e.record.id,address:e.record.address,firstname:e.record.firstname,lastname:e.record.lastname,phone:e.record.phone,salary:e.record.salary,email:e.record.email}).then(p=>{switch(p.status){case 200:l.success(p.data.message),s(),u();break}}).catch(p=>{l.error(p)})}function u(){e.show=!1,e.onClose()}return{rules:a,update:f}}},dr={class:"vcb-pop-create font-ktr"},cr=R(" \u179A\u1780\u17D2\u179F\u17B6\u179A\u1791\u17BB\u1780 "),ur={class:"crud-create-form w-full border-t"},mr={class:"mx-auto p-4 flex-wrap"},fr={class:"crud-form-panel w-full flex flex-wrap"},pr=n("div",{class:"w-1/2 h-8"},null,-1);function _r(e,t,l,a,s,f){const u=i("Save20Regular"),p=i("n-icon"),_=i("n-button"),h=i("n-input"),m=i("n-form-item"),k=i("n-form"),P=i("n-card"),M=i("n-modal");return g(),v("div",dr,[o(M,{show:l.show,"onUpdate:show":t[7]||(t[7]=c=>l.show=c),"on-after-leave":l.onClose,"transform-origin":"center"},{default:r(()=>[o(P,{class:"w-1/2 font-pvh text-xl",title:"\u1780\u17C2\u1794\u17D2\u179A\u17C2\u1796\u17D0\u178F\u17CC\u1798\u17B6\u1793 "+l.model.title,bordered:!1,size:"small"},{"header-extra":r(()=>[o(_,{type:"success",onClick:t[0]||(t[0]=c=>a.update())},{icon:r(()=>[o(p,null,{default:r(()=>[o(u)]),_:1})]),default:r(()=>[cr]),_:1})]),footer:r(()=>[]),default:r(()=>[n("div",ur,[n("div",mr,[n("div",fr,[o(k,{class:"w-full text-left font-btb text-lg flex flex-wrap","label-width":80,model:l.record,rules:a.rules,size:"large",ref:"formRef"},{default:r(()=>[o(m,{label:"\u178F\u17D2\u179A\u1780\u17BC\u179B",path:"lastname",class:"w-4/5 mr-8"},{default:r(()=>[o(h,{value:l.record.lastname,"onUpdate:value":t[1]||(t[1]=c=>l.record.lastname=c),placeholder:"\u178F\u17D2\u179A\u1780\u17BC\u179B"},null,8,["value"])]),_:1}),o(m,{label:"\u1788\u17D2\u1798\u17C4\u17C7",path:"firstname",class:"w-4/5 mr-8"},{default:r(()=>[o(h,{value:l.record.firstname,"onUpdate:value":t[2]||(t[2]=c=>l.record.firstname=c),placeholder:"\u1788\u17D2\u1798\u17C4\u17C7"},null,8,["value"])]),_:1}),o(m,{label:"\u1791\u17BC\u179A\u179F\u17D0\u1796\u17D2\u1791",path:"phone",class:"w-4/5 mr-8"},{default:r(()=>[o(h,{value:l.record.phone,"onUpdate:value":t[3]||(t[3]=c=>l.record.phone=c),placeholder:"\u1791\u17BC\u179A\u179F\u17D0\u1796\u17D2\u1791"},null,8,["value"])]),_:1}),o(m,{label:"\u17A2\u17CA\u17B8\u1798\u17C2\u179B",path:"email",class:"w-4/5 mr-8"},{default:r(()=>[o(h,{value:l.record.email,"onUpdate:value":t[4]||(t[4]=c=>l.record.email=c),placeholder:"\u17A2\u17CA\u17B8\u1798\u17C2\u179B"},null,8,["value"])]),_:1}),o(m,{label:"\u1794\u17D2\u179A\u17B6\u1780\u17CB\u1781\u17C2",path:"salary",class:"w-4/5 mr-8"},{default:r(()=>[o(h,{value:l.record.salary,"onUpdate:value":t[5]||(t[5]=c=>l.record.salary=c),placeholder:"\u1794\u17D2\u179A\u17B6\u1780\u17CB\u1781\u17C2"},null,8,["value"])]),_:1}),o(m,{label:"\u17A2\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793",path:"address",class:"w-4/5 mr-8"},{default:r(()=>[o(h,{value:l.record.address,"onUpdate:value":t[6]||(t[6]=c=>l.record.address=c),placeholder:"\u17A2\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793"},null,8,["value"])]),_:1})]),_:1},8,["model","rules"]),pr])])])]),_:1},8,["title"])]),_:1},8,["show","on-after-leave"])])}var hr=T(ir,[["render",_r]]);const gr={props:{model:{type:Object,required:!0},columns:{type:Array,required:!0},searchable:{type:Array,required:!0},show:{type:Boolean,default:!1},perPage:{type:Number,default:5},onShow:{type:Function,default:()=>{}},onClose:{type:Function,default:()=>{}}},name:"ListComponent",components:{QrcodeVue:ae,Vue3Barcode:ie,Switcher:de,Add20Regular:ue,Icon:Q,IosCheckmarkCircleOutline:me,CreateForm:rr,IosRefresh:fe,CloseCircleOutline:pe,UpdateForm:hr,Search20Regular:_e,Edit20Regular:he,Key16Regular:ge,Save20Regular:G,TrashOutline:ve},setup(e){var t=K();const l=re(),a=j();var s=$({loading:!1,search:"",records:{all:[],matched:[]},columns:{searchable:e.searchable,format:e.columns},pagination:{perPage:e.perPage,page:1,totalPages:0,totalRecords:0}});function f(w=!0){if(w){if(s.records.matched=[],s.search!=""){for(var b in s.records.all)for(var d in s.records.all[b])if((""+s.records.all[b][d]).includes(s.search)!==!1){s.records.matched.push(s.records.all[b]);break}}s.records.matched.length<=0&&(s.records.matched=s.records.all)}else setTimeout(m(1),500)}function u(){Array.isArray(s.columns.format)&&Array.isArray(s.columns.searchable)&&s.columns.format.length>0&&s.columns.searchable.length>0?(window.clearTimeout(),s.loading=!0,t.dispatch(e.model.name+"/list",{columns:s.columns.format,search:{fields:s.columns.searchable,value:s.search},pagination:{perPage:s.pagination.perPage,page:s.pagination.page}}).then(w=>{s.records.all=s.records.matched=w.data.records,s.pagination=w.data.pagination,p()}).catch(w=>{console.log(w)})):a.error("\u179F\u17BC\u1798\u1794\u1789\u17D2\u1787\u17B6\u1780\u17CB\u17A2\u17C6\u1796\u17B8\u1788\u17D2\u1798\u17C4\u17C7\u1780\u17D2\u1794\u17B6\u179B\u1787\u17BD\u179A\u1788\u179A \u1793\u17C3\u178F\u17B6\u179A\u17B6\u1784\u17D4")}function p(){s.loading=!1}function _(){m(s.pagination.page<=1?1:s.pagination.page-1)}function h(){m(s.pagination.page>=s.pagination.totalPages?s.pagination.totalPages:s.pagination.page+1)}function m(w){s.pagination.page=w>s.pagination.totalPages?s.pagination.totalPages:w<1?1:w,u()}function k(w){s.pagination.perPage=w<5?5:w>100?100:perPgae,s.pagination.page=1,u()}function P(w){l.warning({title:"\u179B\u17BB\u1794\u1796\u17D0\u178F\u17CC\u1798\u17B6\u1793",content:"\u178F\u17BE\u17A2\u17D2\u1793\u1780\u1785\u1784\u17CB \u179B\u17BB\u1794 \u1796\u17D0\u178F\u17CC\u1798\u17B6\u1793\u1793\u17C1\u17C7\u1798\u17C2\u1793\u1791\u17C1 ?",positiveText:"\u1794\u17B6\u1791 / \u1785\u17B6\u179F",negativeText:"\u1791\u17C1",onPositiveClick:()=>{t.dispatch(e.model.name+"/delete",{id:w.id}).then(b=>{switch(b.status){case 200:a.success(b.data.message),u();break}}).catch(b=>{a.error(b)})},onNegativeClick:()=>{}})}var M=$({show:!1});function c(){M.show=!0}function z(){M.show=!1,u()}var S=$({show:!1}),y=$({id:0,firstname:"",lastname:"",phone:"",email:"",address:""});function x(w){y.id=w.id,y.firstname=w.firstname,y.lastname=w.lastname,y.phone=w.phone,y.email=w.email,y.salary=w.salary,y.address=w.address,S.show=!0}function A(w){S.show=!1,u()}function q(){}var U=I(!!e.show);function E(){U.value=!U.value,U.value?e.onShow():e.onClose()}return u(),U.value?e.onShow():e.onClose(),console.log(U.value),{table:s,toggle:E,listShow:U,clearRecord:q,filterRecords:f,updatePerpage:k,goTo:m,previous:_,next:h,closeTableLoading:p,createModal:M,showCreateModal:c,closeCreateModal:z,editModal:S,showEditModal:x,closeEditModal:A,editRecord:y,deleteRecord:P}}},ne=e=>(ee("data-v-d3474c06"),e=e(),te(),e),vr={key:0},br={class:"flex title-bar border-b border-gray-200"},wr={class:"flex w-64 h-10 py-1 title"},xr=ne(()=>n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"mt-2 w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),yr=["innerHTML"],kr={class:"flex-grow action-buttons flex-row-reverse flex"},Cr={class:"mt-1 ml-2"},Rr=R(" \u1794\u1793\u17D2\u1790\u17C2\u1798 "),Mr={class:"w-2/5 relative"},Pr=ne(()=>n("div",{class:"filters-bar"},null,-1)),Sr={class:"vcb-table-panel relative"},$r={class:"vcb-table"},Ur={class:"vcb-table-headers"},Tr=ne(()=>n("th",{class:"vcb-table-header text-right w-40"},"\u1794\u17D2\u179A\u178F\u17B7\u1794\u178F\u17D2\u178F\u17B7\u1780\u17B6\u179A",-1)),zr=["innerHTML"],Lr={class:"vcb-table-actions-panel text-right w-40"},Ar={key:0,class:"table-loading absolute left-0 top-0 right-0 bottom-0 bg-white bg-opacity-75"},qr={class:"spinner mt-24"},Ir=ne(()=>n("br",null,null,-1)),Hr=ne(()=>n("br",null,null,-1)),Fr=R(" \u1780\u17C6\u1796\u17BB\u1784\u17A2\u17B6\u1793... "),Or={class:"vcb-table-pagination"},Br=["onClick"];function Nr(e,t,l,a,s,f){const u=i("Add20Regular"),p=i("n-icon"),_=i("n-button"),h=i("Search20Regular"),m=i("n-input"),k=i("Edit20Regular"),P=i("TrashOutline"),M=i("IosRefresh"),c=i("Icon"),z=i("CloseCircleOutline"),S=i("create-form"),y=i("update-form");return g(),v("div",vr,[n("div",br,[n("div",wr,[xr,n("div",{class:"leading-8 font-bold",innerHTML:"\u1796\u17D0\u178F\u17CC\u1798\u17B6\u1793 "+l.model.title},null,8,yr)]),n("div",kr,[n("div",Cr,[o(_,{type:"success",onClick:t[0]||(t[0]=x=>a.showCreateModal())},{icon:r(()=>[o(p,null,{default:r(()=>[o(u)]),_:1})]),default:r(()=>[Rr]),_:1})]),n("div",Mr,[o(m,{type:"text",onKeyup:t[1]||(t[1]=Z(x=>a.filterRecords(!1),["enter"])),value:a.table.search,"onUpdate:value":t[2]||(t[2]=x=>a.table.search=x),clearable:"",onClear:t[3]||(t[3]=x=>{a.table.search="",a.filterRecords(!1)}),class:"bg-gray-100 px-2 h-9 my-1 w-full",placeholder:"\u179F\u17D2\u179C\u17C2\u1784\u179A\u1780"},{prefix:r(()=>[o(p,null,{default:r(()=>[o(h)]),_:1})]),_:1},8,["value"])])]),Pr]),n("div",Sr,[n("table",$r,[n("tr",Ur,[(g(!0),v(O,null,B(a.table.columns.format,(x,A)=>(g(),v("th",{key:A,class:"vcb-table-header"},C(x.label),1))),128)),Tr]),(g(!0),v(O,null,B(a.table.records.matched,(x,A)=>(g(),v("tr",{key:A,class:"vcb-table-row"},[(g(!0),v(O,null,B(a.table.columns.format,(q,U)=>(g(),v("td",{key:U,class:"vcb-table-cell",innerHTML:x[q.field]},null,8,zr))),128)),n("td",Lr,[o(p,{size:"30",class:"cursor-pointer text-blue-500",onClick:q=>a.showEditModal(x),title:"\u1780\u17C2\u1794\u17D2\u179A\u17C2\u1796\u17D0\u178F\u17CC\u1798\u17B6\u1793"},{default:r(()=>[o(k)]),_:2},1032,["onClick"]),o(p,{size:"30",class:"cursor-pointer text-red-500",onClick:q=>a.deleteRecord(x),title:"\u179B\u17BB\u1794\u1785\u17C4\u179B"},{default:r(()=>[o(P)]),_:2},1032,["onClick"])])]))),128))]),a.table.loading?(g(),v("div",Ar,[n("div",qr,[o(c,{size:"40",class:"animate-spin text-blue-500"},{default:r(()=>[o(M)]),_:1}),Ir,Hr,Fr]),n("div",{class:"absolute top-3 right-3",onClick:t[4]||(t[4]=(...x)=>a.closeTableLoading&&a.closeTableLoading(...x))},[o(c,{size:"40",class:"text-gray-400"},{default:r(()=>[o(z)]),_:1})])])):V("",!0)]),n("div",Or,[n("div",{class:"vcb-pagination-page",innerHTML:"<",onClick:t[5]||(t[5]=x=>a.previous())}),(g(!0),v(O,null,B(a.table.pagination.totalPages,x=>(g(),v("div",{key:x,class:"vcb-pagination-page",onClick:A=>a.goTo(x)},C(x),9,Br))),128)),n("div",{class:"vcb-pagination-page",innerHTML:">",onClick:t[6]||(t[6]=x=>a.next())})]),o(S,{model:l.model,show:a.createModal.show,onClose:a.closeCreateModal},null,8,["model","show","onClose"]),o(y,{model:l.model,record:a.editRecord,show:a.editModal.show,onClose:a.closeEditModal},null,8,["model","record","show","onClose"])])}var jr=T(gr,[["render",Nr],["__scopeId","data-v-d3474c06"]]);const Dr={name:"Staff",components:{ListForm:jr},setup(){const e=$({name:"staff",title:"\u1794\u17BB\u1782\u17D2\u1782\u179B\u17B7\u1780"}),t=I([{field:"id",label:"\u179B\u17C1\u1781\u179F\u1798\u17D2\u1782\u17B6\u179B\u17CB"},{field:"lastname",label:"\u178F\u17D2\u179A\u1780\u17BC\u179B"},{field:"firstname",label:"\u1788\u17D2\u1798\u17C4\u17C7"},{field:"phone",label:"\u1791\u17BC\u179A\u179F\u17D0\u1796\u17D2\u1791"},{field:"email",label:"\u17A2\u17CA\u17B8\u1798\u17C2\u179B"},{field:"salary",label:"\u1794\u17D2\u179A\u17B6\u1780\u17CB\u1781\u17C2"},{field:"address",label:"\u17A2\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793"}]),l=I(["firstname","lastname","phone","email","salary","address"]);return{model:e,columns:t,searchable:l}}},Er={class:"w-full"};function Vr(e,t,l,a,s,f){const u=i("list-form");return g(),v("div",Er,[o(u,{show:!0,model:a.model,columns:a.columns,searchable:a.searchable,perPage:20},null,8,["model","columns","searchable"])])}var Kr=T(Dr,[["render",Vr]]);let Gr=[{path:"",redirect:e=>"/login"},{path:"/",redirect:e=>"/login"},{name:"Login",path:"/login",component:na,meta:{transition:"slide-left"}},{name:"Dashboard",path:"/dashboard",component:Ya,meta:{transition:"slide-left",requiresAuth:!0,is_admin:!0},children:[{name:"DashboardWidgets",path:"",component:no,meta:{transition:"slide-left",requiresAuth:!0,is_admin:!0}},{name:"Package",path:"/package",component:io,meta:{transition:"slide-left",requiresAuth:!0,is_admin:!0},children:[{name:"PackageList",path:"",component:Wo,meta:{transition:"slide-right",requiresAuth:!0,is_admin:!0}}]},{name:"Receive",path:"/receive",component:al,meta:{transition:"slide-right",requiresAuth:!0,is_admin:!0}},{name:"User",path:"/user",component:sl,meta:{transition:"slide-right",requiresAuth:!0,is_admin:!0},children:[{name:"UserList",path:"",component:ns},{name:"UserCreate",path:"create",component:$e},{name:"UserUpdate",path:"update",component:Ue}]},{path:"/client",component:Xs,meta:{transition:"slide-right",requiresAuth:!0,is_admin:!0}},{path:"/staff",component:Kr,meta:{transition:"slide-right",requiresAuth:!0,is_admin:!0}}]}];const Te=et({history:tt(),routes:Gr});Te.beforeEach((e,t,l)=>{e.path!=="/login"&&!be()?l({path:"/login"}):e.path=="/login"&&be()?l({path:"/dashboard"}):l()});function Wr(e,t){t.forEach(l=>{let a=e.document.createElement("link");a.setAttribute("rel","stylesheet"),a.setAttribute("type","text/css"),a.setAttribute("href",l),e.document.getElementsByTagName("head")[0].appendChild(a)})}const Jr={install(e,t={}){e.config.globalProperties.$htmlToPaper=(l,a,s=()=>!0)=>{let f="_blank",u=["fullscreen=yes","titlebar=yes","scrollbars=yes"],p=!0,_=[],{name:h=f,specs:m=u,replace:k=p,styles:P=_}=t;a&&(a.name&&(h=a.name),a.specs&&(m=a.specs),a.replace&&(k=a.replace),a.styles&&(P=a.styles)),m=m.length?m.join(","):"";const M=window.document.getElementById(l);if(!M){alert(`Element to print #${l} not found!`);return}const c="",z=window.open(c,h,m,k);return z.document.write(`
        <html>
          <head>
            <title>${window.document.title}</title>
          </head>
          <body>
            ${M.innerHTML}
          </body>
        </html>
      `),Wr(z,P),setTimeout(()=>{z.document.close(),z.focus(),z.print(),z.close(),s()},1e3),!0}}};let D=at(mt);D.use(jt);D.use(ot,H);D.provide("axios",D.config.globalProperties.axios);D.use(nt);D.use(Te);D.use(lt);D.use(st);D.use(rt);D.use(Jr);D.mount("#app");
